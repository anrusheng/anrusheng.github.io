window.__require=function t(e,n,r){function o(a,c){if(!n[a]){if(!e[a]){var u=a.split("/");if(u=u[u.length-1],!e[u]){var s="function"==typeof __require&&__require;if(!c&&s)return s(u,!0);if(i)return i(u,!0);throw new Error("Cannot find module '"+a+"'")}a=u}var f=n[a]={exports:{}};e[a][0].call(f.exports,function(t){return o(e[a][1][t]||t)},f,f.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<r.length;a++)o(r[a]);return o}({AStart:[function(t,e,n){"use strict";cc._RF.push(e,"6ada0ycbKRB+rZfspb7Iqjs","AStart"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){return function(){this.x=0,this.y=0,this.f=0,this.g=0,this.h=0,this.parent=null,this.type=0}}();n.Grid=r;var o=function(){function t(){this.mapH=13,this.mapW=24,this.is8dir=!0,this.startX=0,this.startY=0,this.endX=0,this.endY=0,this.openList=[],this.closeList=[],this.path=[],this.gridsList=[]}return t.prototype.InitMap=function(t){this.openList=[],this.closeList=[],this.path=[],this.mapH=t._mapH,this.mapW=t._mapW,this.gridsList=new Array(this.mapW+1);for(var e=0;e<this.gridsList.length;e++)this.gridsList[e]=new Array(this.mapH+1);for(e=0;e<=this.mapW;e++)for(var n=0;n<=this.mapH;n++)this.AddGrid(e,n,0)},t.prototype.SetStartPoint=function(t){t&&(this.startX=t.x,this.startY=t.y),console.log("\u8bbe\u7f6e\u8d77\u70b9"),console.log(t),this.gridsList[this.startX][this.startY].type=1},t.prototype.SetTargetPoint=function(t){this.endX=this.mapH,this.endY=this.mapW,t&&(this.endX=t.x,this.endY=t.y),console.log("\u8bbe\u7f6e\u7ec8\u70b9"),console.log(t),this.gridsList[this.endX][this.endY].type=2},t.prototype.AddGrid=function(t,e,n){var o=new r;o.x=t,o.y=e,o.type=n,this.gridsList[t][e]=o},t.prototype.SetMapBarrier=function(t){0==this.gridsList[t.x][t.y].type&&(this.gridsList[t.x][t.y].type=-1)},t.prototype._sortFunc=function(t,e){return t.f-e.f},t.prototype.generatePath=function(t){for(this.path.push(t);t.parent;)t=t.parent,this.path.push(t);cc.log("path.length: "+this.path.length);for(var e=0;e<this.path.length;e++)if(0!=e&&e!=this.path.length-1)this.path[e]},t.prototype.findPath=function(){var t=this.gridsList[this.startX][this.startY];this.openList.push(t);for(var e=this.openList[0];this.openList.length>0&&2!=e.type;){if(2==(e=this.openList[0]).type)return cc.log("find path success."),this.generatePath(e),this.path;for(var n=-1;n<=1;n++)for(var r=-1;r<=1;r++)if(0!=n||0!=r){var o=e.x+n,i=e.y+r;if(o>=0&&i>=0&&o<=this.mapW&&i<=this.mapH&&-1!=this.gridsList[o][i].type&&this.closeList.indexOf(this.gridsList[o][i])<0){if(this.is8dir){if(-1==this.gridsList[o-n][i].type||-1==this.gridsList[o][i-r].type)continue}else if(Math.abs(n)==Math.abs(r))continue;var a=e.g+Math.floor(Math.sqrt(Math.pow(10*n,2)+Math.pow(10*r,2)));(0==this.gridsList[o][i].g||this.gridsList[o][i].g>a)&&(this.gridsList[o][i].g=a,this.gridsList[o][i].parent=e),this.gridsList[o][i].h=Math.abs(this.endX-o)+Math.abs(this.endY-i),this.gridsList[o][i].f=this.gridsList[o][i].g+this.gridsList[o][i].h,this.openList.indexOf(this.gridsList[o][i])<0&&this.openList.push(this.gridsList[o][i])}}if(this.closeList.push(e),this.openList.splice(this.openList.indexOf(e),1),this.openList.length<=0)return cc.log("find path failed."),this.path;this.openList.sort(this._sortFunc)}},t.Instance=new t,t}();n.default=o,cc._RF.pop()},{}],BezierEditor:[function(t,e,n){"use strict";cc._RF.push(e,"1de98IPDalKbZDkMMDvAJx+","BezierEditor");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canvas=null,e.pointPrefab=null,e.graphics=null,e.resetButton=null,e.isLineMode=!1,e.points=[],e.isDragging=!1,e.selectedPoint=null,e.hMirrorButton=null,e.vMirrorButton=null,e.loadButton=null,e.labelPrefab=null,e.scaleLabels=[],e.assetJson=null,e.pathId=1,e}return r(e,t),e.prototype.onLoad=function(){this._initEvents(),this._initResetButton(),this._initMirrorButtons(),this._initLoadButton(),this._drawRuler()},e.prototype._initLoadButton=function(){var t=this;this.loadButton&&this.loadButton.node.on("click",function(){return t.loadPath()},this)},e.prototype._drawRuler=function(){if(this.graphics&&this.canvas){this.scaleLabels.forEach(function(t){return t.destroy()}),this.scaleLabels=[],this.graphics.clear();var t=this.canvas.width,e=this.canvas.height;this.graphics.strokeColor=new cc.Color(128,128,128,80),this.graphics.lineWidth=2;for(var n=0;n<=t/2;n+=50)if(this.graphics.moveTo(n,-e/2),this.graphics.lineTo(n,e/2),this.graphics.moveTo(-n,-e/2),this.graphics.lineTo(-n,e/2),n%100==0&&0!==n&&this.labelPrefab){var r=cc.instantiate(this.labelPrefab);r.getComponent(cc.Label).string=n.toString(),r.parent=this.canvas,r.position=cc.v3(n,10,0),this.scaleLabels.push(r);var o=cc.instantiate(this.labelPrefab);o.getComponent(cc.Label).string=(-n).toString(),o.parent=this.canvas,o.position=cc.v3(-n,10,0),this.scaleLabels.push(o)}for(var i=0;i<=e/2;i+=50)if(this.graphics.moveTo(-t/2,i),this.graphics.lineTo(t/2,i),this.graphics.moveTo(-t/2,-i),this.graphics.lineTo(t/2,-i),i%100==0&&0!==i&&this.labelPrefab){var a=cc.instantiate(this.labelPrefab);a.getComponent(cc.Label).string=i.toString(),a.parent=this.canvas,a.position=cc.v3(10,i,0),this.scaleLabels.push(a);var c=cc.instantiate(this.labelPrefab);c.getComponent(cc.Label).string=(-i).toString(),c.parent=this.canvas,c.position=cc.v3(10,-i,0),this.scaleLabels.push(c)}if(this.graphics.stroke(),this.graphics.strokeColor=cc.Color.YELLOW,this.graphics.fillColor=cc.Color.YELLOW,this.graphics.circle(0,0,5),this.graphics.fill(),this.graphics.stroke(),this.graphics.strokeColor=cc.Color.RED,this.graphics.lineWidth=2,this.graphics.moveTo(-t/2,0),this.graphics.lineTo(t/2,0),this.graphics.moveTo(0,-e/2),this.graphics.lineTo(0,e/2),this.graphics.stroke(),this.labelPrefab){var u=cc.instantiate(this.labelPrefab);u.getComponent(cc.Label).string="0",u.parent=this.canvas,u.position=cc.v3(10,10,0),this.scaleLabels.push(u)}}},e.prototype._initMirrorButtons=function(){this.hMirrorButton&&this.hMirrorButton.node.on("click",this._onHorizontalMirror,this),this.vMirrorButton&&this.vMirrorButton.node.on("click",this._onVerticalMirror,this)},e.prototype._onHorizontalMirror=function(){0!==this.points.length&&(this.points.forEach(function(t){t.position=cc.v3(-t.position.x,t.position.y,t.position.z)}),this._updateCurve())},e.prototype._onVerticalMirror=function(){0!==this.points.length&&(this.points.forEach(function(t){t.position=cc.v3(t.position.x,-t.position.y,t.position.z)}),this._updateCurve())},e.prototype._initResetButton=function(){this.resetButton&&this.resetButton.node.on("click",this._onReset,this)},e.prototype._onReset=function(){this.points.forEach(function(t){return t.destroy()}),this.points=[],this.graphics&&this.graphics.clear(),this.isDragging=!1,this.selectedPoint=null},e.prototype._initEvents=function(){this.canvas&&(this.canvas.on(cc.Node.EventType.TOUCH_START,this._onTouchStart,this),this.canvas.on(cc.Node.EventType.TOUCH_MOVE,this._onTouchMove,this),this.canvas.on(cc.Node.EventType.TOUCH_END,this._onTouchEnd,this),this.canvas.on(cc.Node.EventType.TOUCH_CANCEL,this._onTouchEnd,this))},e.prototype._onTouchStart=function(t){var e=this.canvas.convertToNodeSpaceAR(t.getLocation());if(e&&this.pointPrefab){for(var n=0,r=this.points;n<r.length;n++){var o=r[n];if(o.position.sub(cc.v3(e)).mag()<20)return this.isDragging=!0,void(this.selectedPoint=o)}var i=cc.instantiate(this.pointPrefab);i.parent=this.canvas,i.position=cc.v3(e),this.points.push(i),this._updateCurve()}},e.prototype._onTouchMove=function(t){if(this.isDragging&&this.selectedPoint&&this.canvas){var e=this.canvas.convertToNodeSpaceAR(t.getLocation());this.selectedPoint.position=cc.v3(e),this._updateCurve()}},e.prototype._onTouchEnd=function(){this.isDragging=!1,this.selectedPoint=null},e.prototype._updateCurve=function(){if(this.graphics&&(this.graphics.clear(),this._drawRuler(),!(this.points.length<2))){if(this.graphics.strokeColor=cc.Color.GREEN,this.graphics.lineWidth=2,this.isLineMode)this._drawLines();else{if(this.points.length<4||(this.points.length-4)%3!=0)return;this._drawBezier()}this.graphics.stroke(),this.exportPath()}},e.prototype._drawLines=function(){for(var t=0;t<this.points.length-1;t++){var e=this.points[t].position,n=this.points[t+1].position;this.graphics.moveTo(e.x,e.y),this.graphics.lineTo(n.x,n.y)}},e.prototype._drawBezier=function(){for(var t=0;t<this.points.length-3;t+=3){var e=0===t?this.points[0].position:this.points[t].position,n=this.points[t+1].position,r=this.points[t+2].position,o=this.points[t+3].position;this.graphics.moveTo(e.x,e.y);for(var i=0;i<=1;i+=.01){var a=this._getBezierPoint(e,n,r,o,i);this.graphics.lineTo(a.x,a.y)}}},e.prototype.exportPath=function(){if(this.points.length<2)cc.warn("\u9700\u8981\u81f3\u5c112\u4e2a\u70b9\u624d\u80fd\u5bfc\u51fa\u8def\u5f84");else{var t=[],e=[];if(this.isLineMode){var n=this.points.map(function(t){return{x:Math.round(t.position.x),y:Math.round(t.position.y)}});t.push(n)}else for(var r=0;r<this.points.length-3;r+=3){var o=[],i=0===r?this.points[0]:this.points[r],a=this.points[r+1],c=this.points[r+2],u=this.points[r+3];o.push({x:Math.round(i.position.x),y:Math.round(i.position.y)}),o.push({x:Math.round(a.position.x),y:Math.round(a.position.y)}),o.push({x:Math.round(c.position.x),y:Math.round(c.position.y)}),o.push({x:Math.round(u.position.x),y:Math.round(u.position.y)}),e.push(this._getBezierLength(o[0],o[1],o[2],o[3])),t.push(o)}var s={id:this.pathId,style:this.isLineMode?1:2,type:1,points:t};e.length>0&&(s.distances=e),this.assetJson&&this.assetJson.json&&(this.assetJson.json[this.pathId]=s,console.log("\u5b8c\u6574\u7684 Path.json \u6570\u636e\uff1a",JSON.stringify(this.assetJson.json,null,2))),console.log("\u5f53\u524d\u8def\u5f84\u6570\u636e\uff1a",JSON.stringify(s,null,2))}},e.prototype.loadPath=function(){var t=this;if(this.assetJson&&this.assetJson.json&&this.assetJson.json[this.pathId]){var e=this.assetJson.json[this.pathId];this._onReset(),this.isLineMode=1===e.style,this.isLineMode?e.points[0].forEach(function(e){if(t.pointPrefab&&t.canvas){var n=cc.instantiate(t.pointPrefab);n.parent=t.canvas,n.position=cc.v3(e.x,e.y),t.points.push(n)}}):e.points.forEach(function(e,n){0===n?e.forEach(function(e){if(t.pointPrefab&&t.canvas){var n=cc.instantiate(t.pointPrefab);n.parent=t.canvas,n.position=cc.v3(e.x,e.y),t.points.push(n)}}):e.slice(1).forEach(function(e){if(t.pointPrefab&&t.canvas){var n=cc.instantiate(t.pointPrefab);n.parent=t.canvas,n.position=cc.v3(e.x,e.y),t.points.push(n)}})}),this._updateCurve()}else cc.warn("\u627e\u4e0d\u5230\u8def\u5f84ID: "+this.pathId)},e.prototype._getBezierLength=function(t,e,n,r){for(var o=0,i=t,a=1;a<=30;a++){var c=a/30,u=this._getBezierPoint(cc.v3(t.x,t.y),cc.v3(e.x,e.y),cc.v3(n.x,n.y),cc.v3(r.x,r.y),c),s=cc.v2(u.x,u.y);o+=cc.v2(s.x-i.x,s.y-i.y).mag(),i=s}return Math.round(o)},e.prototype._getBezierPoint=function(t,e,n,r,o){return{x:Math.pow(1-o,3)*t.x+3*Math.pow(1-o,2)*o*e.x+3*(1-o)*Math.pow(o,2)*n.x+Math.pow(o,3)*r.x,y:Math.pow(1-o,3)*t.y+3*Math.pow(1-o,2)*o*e.y+3*(1-o)*Math.pow(o,2)*n.y+Math.pow(o,3)*r.y}},o([c(cc.Node)],e.prototype,"canvas",void 0),o([c(cc.Prefab)],e.prototype,"pointPrefab",void 0),o([c(cc.Graphics)],e.prototype,"graphics",void 0),o([c(cc.Button)],e.prototype,"resetButton",void 0),o([c],e.prototype,"isLineMode",void 0),o([c(cc.Button)],e.prototype,"hMirrorButton",void 0),o([c(cc.Button)],e.prototype,"vMirrorButton",void 0),o([c(cc.Button)],e.prototype,"loadButton",void 0),o([c(cc.Prefab)],e.prototype,"labelPrefab",void 0),o([c(cc.JsonAsset)],e.prototype,"assetJson",void 0),o([c],e.prototype,"pathId",void 0),e=o([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],Bullet:[function(t,e,n){"use strict";cc._RF.push(e,"cf1a5/oyoBJA6baxHh8CZTc","Bullet");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=2*Math.PI/360;function a(t,e){var n=e*Math.sin(t*i),r=e*Math.cos(t*i);return cc.v2(n,r)}var c=cc._decorator,u=c.ccclass,s=c.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attack=2,e.followTargetX=!1,e.target=null,e}return r(e,t),e.prototype._getMoveAction=function(t){var e;"player"!==this._plane.node.group&&(this.node.angle=this.node.angle-180);var n=(e=a(-this.node.angle,cc.winSize.height).add(cc.v2(this.node.position.x,this.node.position.y))).sub(cc.v2(this.node.position.x,this.node.position.y)).mag()/t.speed;return cc.moveTo(n,e)},e.prototype.run=function(t,e){this._plane=t,this._weapon=e;var n=this._getMoveAction(e),r=cc.removeSelf(),o=cc.sequence(n,r);this.node.runAction(o)},e.prototype.getDamageValue=function(){return this.attack},e.prototype.onCollisionEnter=function(){this.node.destroy()},e.prototype.update=function(){this.node.parent&&(this.target&&this.followTargetX&&(this.node.x=this.target.x),this.node.parent.getBoundingBox().contains(cc.v2(this.node.position.x,this.node.position.y))||this.node.destroy())},o([s],e.prototype,"attack",void 0),o([s({tooltip:"\u662f\u5426\u8ddf\u968f\u76ee\u6807X\u8f74"})],e.prototype,"followTargetX",void 0),e=o([u],e)}(cc.Component);n.default=f,cc._RF.pop()},{}],1:[function(t,e,n){var r,o,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}function s(t){if(o===clearTimeout)return clearTimeout(t);if((o===c||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{return o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(t){r=a}try{o="function"==typeof clearTimeout?clearTimeout:c}catch(t){o=c}})();var f,l=[],p=!1,h=-1;function d(){p&&f&&(p=!1,f.length?l=f.concat(l):h=-1,l.length&&v())}function v(){if(!p){var t=u(d);p=!0;for(var e=l.length;e;){for(f=l,l=[];++h<e;)f&&f[h].run();h=-1,e=l.length}f=null,p=!1,s(t)}}function y(t,e){this.fun=t,this.array=e}function _(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new y(t,e)),1!==l.length||p||u(v)},y.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=_,i.addListener=_,i.once=_,i.off=_,i.removeListener=_,i.removeAllListeners=_,i.emit=_,i.prependListener=_,i.prependOnceListener=_,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],CacheAssetManager:[function(t,e,n){"use strict";cc._RF.push(e,"a1434XU96dOhbsVFK0kyDIm","CacheAssetManager");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cachedAssets=new Map,e}return r(e,t),e.prototype.setAsset=function(t,e){var n=this.cachedAssets.get(t);n?this.cachedAssets.set(t,{count:n.count+1,asset:n.asset}):this.cachedAssets.set(t,{count:1,asset:e})},e.prototype.getAsset=function(t){var e=this.cachedAssets.get(t);return e?e.asset:void 0},e.prototype.getAssetsCache=function(){return this.cachedAssets},e.prototype.releasingAsset=function(t){var e=this.cachedAssets.get(t);e&&(e.count>1?this.cachedAssets.set(t,{count:e.count-1,asset:e.asset}):(this.cachedAssets.delete(t),cc.loader.releaseAsset(e.asset)))},e.prototype.releasingResourceList=function(t){var e=this;t.forEach(function(t){e.releasingAsset(t)})},e}(t("../utils/Singleton").default);n.default=o,cc._RF.pop()},{"../utils/Singleton":"Singleton"}],CollisionManager:[function(t,e,n){"use strict";cc._RF.push(e,"9699f36vgxEyIoBU/o+zCnJ","CollisionManager");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.properties={},e}return r(e,t),e.prototype.start=function(){cc.director.getCollisionManager().enabled=!0},o([c],e.prototype,"properties",void 0),e=o([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],2:[function(t,e,n){(function(t){(function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r((t="undefined"!=typeof globalThis?globalThis:t||self).async={})})(this,function(e){"use strict";function n(t,...e){return(...n)=>t(...e,...n)}function r(t){return function(...e){var n=e.pop();return t.call(this,e,n)}}var o="function"==typeof queueMicrotask&&queueMicrotask,i="function"==typeof setImmediate&&setImmediate,a="object"==typeof t&&"function"==typeof t.nextTick;function c(t){setTimeout(t,0)}function u(t){return(e,...n)=>t(()=>e(...n))}var s=u(o?queueMicrotask:i?setImmediate:a?t.nextTick:c);function f(t){return h(t)?function(...e){const n=e.pop();return l(t.apply(this,e),n)}:r(function(e,n){var r;try{r=t.apply(this,e)}catch(t){return n(t)}if(r&&"function"==typeof r.then)return l(r,n);n(null,r)})}function l(t,e){return t.then(t=>{p(e,null,t)},t=>{p(e,t&&(t instanceof Error||t.message)?t:new Error(t))})}function p(t,e,n){try{t(e,n)}catch(t){s(t=>{throw t},t)}}function h(t){return"AsyncFunction"===t[Symbol.toStringTag]}function d(t){return"AsyncGenerator"===t[Symbol.toStringTag]}function v(t){return"function"==typeof t[Symbol.asyncIterator]}function y(t){if("function"!=typeof t)throw new Error("expected a function");return h(t)?f(t):t}function _(t,e){if(e||(e=t.length),!e)throw new Error("arity is undefined");return function(...n){return"function"==typeof n[e-1]?t.apply(this,n):new Promise((r,o)=>{n[e-1]=((t,...e)=>{if(t)return o(t);r(e.length>1?e:e[0])}),t.apply(this,n)})}}function g(t){return function(e,...n){return _(function(r){var o=this;return t(e,(t,e)=>{y(t).apply(o,n.concat(e))},r)})}}function m(t,e,n,r){e=e||[];var o=[],i=0,a=y(n);return t(e,(t,e,n)=>{var r=i++;a(t,(t,e)=>{o[r]=e,n(t)})},t=>{r(t,o)})}function b(t){return t&&"number"==typeof t.length&&t.length>=0&&t.length%1==0}const w={};function P(t){function e(...e){if(null!==t){var n=t;t=null,n.apply(this,e)}}return Object.assign(e,t),e}function R(t){return t[Symbol.iterator]&&t[Symbol.iterator]()}function O(t){var e=-1,n=t.length;return function(){return++e<n?{value:t[e],key:e}:null}}function x(t){var e=-1;return function(){var n=t.next();return n.done?null:(e++,{value:n.value,key:e})}}function j(t){var e=t?Object.keys(t):[],n=-1,r=e.length;return function o(){var i=e[++n];return"__proto__"===i?o():n<r?{value:t[i],key:i}:null}}function S(t){if(b(t))return O(t);var e=R(t);return e?x(e):j(t)}function M(t){return function(...e){if(null===t)throw new Error("Callback was already called.");var n=t;t=null,n.apply(this,e)}}function C(t,e,n,r){let o=!1,i=!1,a=!1,c=0,u=0;function s(){c>=e||a||o||(a=!0,t.next().then(({value:t,done:e})=>{if(!i&&!o){if(a=!1,e)return o=!0,void(c<=0&&r(null));c++,n(t,u,f),u++,s()}}).catch(l))}function f(t,e){if(c-=1,!i)return t?l(t):!1===t?(o=!0,void(i=!0)):e===w||o&&c<=0?(o=!0,r(null)):void s()}function l(t){i||(a=!1,o=!0,r(t))}s()}var L=t=>(e,n,r)=>{if(r=P(r),t<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!e)return r(null);if(d(e))return C(e,t,n,r);if(v(e))return C(e[Symbol.asyncIterator](),t,n,r);var o=S(e),i=!1,a=!1,c=0,u=!1;function s(t,e){if(!a)if(c-=1,t)i=!0,r(t);else if(!1===t)i=!0,a=!0;else{if(e===w||i&&c<=0)return i=!0,r(null);u||f()}}function f(){for(u=!0;c<t&&!i;){var e=o();if(null===e)return i=!0,void(c<=0&&r(null));c+=1,n(e.value,e.key,M(s))}u=!1}f()};var A=_(function(t,e,n,r){return L(e)(t,y(n),r)},4);function T(t,e,n){n=P(n);var r=0,o=0,{length:i}=t,a=!1;function c(t,e){!1===t&&(a=!0),!0!==a&&(t?n(t):++o!==i&&e!==w||n(null))}for(0===i&&n(null);r<i;r++)e(t[r],r,M(c))}function E(t,e,n){return A(t,1/0,e,n)}var I=_(function(t,e,n){return(b(t)?T:E)(t,y(e),n)},3);var B=_(function(t,e,n){return m(I,t,e,n)},3),k=g(B);var D=_(function(t,e,n){return A(t,1,e,n)},3);var F=_(function(t,e,n){return m(D,t,e,n)},3),z=g(F);const N=Symbol("promiseCallback");function W(){let t,e;function n(n,...r){if(n)return e(n);t(r.length>1?r:r[0])}return n[N]=new Promise((n,r)=>{t=n,e=r}),n}function U(t,e,n){"number"!=typeof e&&(n=e,e=null),n=P(n||W());var r=Object.keys(t).length;if(!r)return n(null);e||(e=r);var o={},i=0,a=!1,c=!1,u=Object.create(null),s=[],f=[],l={};function p(t,e){s.push(()=>_(t,e))}function h(){if(!a){if(0===s.length&&0===i)return n(null,o);for(;s.length&&i<e;){s.shift()()}}}function d(t,e){var n=u[t];n||(n=u[t]=[]),n.push(e)}function v(t){(u[t]||[]).forEach(t=>t()),h()}function _(t,e){if(!c){var r=M((e,...r)=>{if(i--,!1!==e)if(r.length<2&&([r]=r),e){var s={};if(Object.keys(o).forEach(t=>{s[t]=o[t]}),s[t]=r,c=!0,u=Object.create(null),a)return;n(e,s)}else o[t]=r,v(t);else a=!0});i++;var s=y(e[e.length-1]);e.length>1?s(o,r):s(r)}}function g(e){var n=[];return Object.keys(t).forEach(r=>{const o=t[r];Array.isArray(o)&&o.indexOf(e)>=0&&n.push(r)}),n}return Object.keys(t).forEach(e=>{var n=t[e];if(!Array.isArray(n))return p(e,[n]),void f.push(e);var r=n.slice(0,n.length-1),o=r.length;if(0===o)return p(e,n),void f.push(e);l[e]=o,r.forEach(i=>{if(!t[i])throw new Error("async.auto task `"+e+"` has a non-existent dependency `"+i+"` in "+r.join(", "));d(i,()=>{0===--o&&p(e,n)})})}),function(){var t,e=0;for(;f.length;)t=f.pop(),e++,g(t).forEach(t=>{0==--l[t]&&f.push(t)});if(e!==r)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),h(),n[N]}var G=/^(?:async\s)?(?:function)?\s*(?:\w+\s*)?\(([^)]+)\)(?:\s*{)/,H=/^(?:async\s)?\s*(?:\(\s*)?((?:[^)=\s]\s*)*)(?:\)\s*)?=>/,V=/,/,q=/(=.+)?(\s*)$/;function J(t){let e="",n=0,r=t.indexOf("*/");for(;n<t.length;)if("/"===t[n]&&"/"===t[n+1]){let e=t.indexOf("\n",n);n=-1===e?t.length:e}else if(-1!==r&&"/"===t[n]&&"*"===t[n+1]){let o=t.indexOf("*/",n);-1!==o?(n=o+2,r=t.indexOf("*/",n)):(e+=t[n],n++)}else e+=t[n],n++;return e}function Y(t){const e=J(t.toString());let n=e.match(G);if(n||(n=e.match(H)),!n)throw new Error("could not parse args in autoInject\nSource:\n"+e);let[,r]=n;return r.replace(/\s/g,"").split(V).map(t=>t.replace(q,"").trim())}function Z(t,e){var n={};return Object.keys(t).forEach(e=>{var r,o=t[e],i=h(o),a=!i&&1===o.length||i&&0===o.length;if(Array.isArray(o))r=[...o],o=r.pop(),n[e]=r.concat(r.length>0?c:o);else if(a)n[e]=o;else{if(r=Y(o),0===o.length&&!i&&0===r.length)throw new Error("autoInject task functions require explicit parameters.");i||r.pop(),n[e]=r.concat(c)}function c(t,e){var n=r.map(e=>t[e]);n.push(e),y(o)(...n)}}),U(n,e)}class K{constructor(){this.head=this.tail=null,this.length=0}removeLink(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t}empty(){for(;this.head;)this.shift();return this}insertAfter(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1}insertBefore(t,e){e.prev=t.prev,e.next=t,t.prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1}unshift(t){this.head?this.insertBefore(this.head,t):$(this,t)}push(t){this.tail?this.insertAfter(this.tail,t):$(this,t)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var t=this.head;t;)yield t.data,t=t.next}remove(t){for(var e=this.head;e;){var{next:n}=e;t(e)&&this.removeLink(e),e=n}return this}}function $(t,e){t.length=1,t.head=t.tail=e}function X(t,e,n){if(null==e)e=1;else if(0===e)throw new RangeError("Concurrency must not be zero");var r=y(t),o=0,i=[];const a={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function c(t,e){a[t].push(e)}function u(t,e){const n=(...r)=>{f(t,n),e(...r)};a[t].push(n)}function f(t,e){return t?e?void(a[t]=a[t].filter(t=>t!==e)):a[t]=[]:Object.keys(a).forEach(t=>a[t]=[])}function l(t,...e){a[t].forEach(t=>t(...e))}var p=!1;function h(t,e,n,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");var o,i;function a(t,...e){return t?n?i(t):o():e.length<=1?o(e[0]):void o(e)}m.started=!0;var c=m._createTaskItem(t,n?a:r||a);if(e?m._tasks.unshift(c):m._tasks.push(c),p||(p=!0,s(()=>{p=!1,m.process()})),n||!r)return new Promise((t,e)=>{o=t,i=e})}function d(t){return function(e,...n){o-=1;for(var r=0,a=t.length;r<a;r++){var c=t[r],u=i.indexOf(c);0===u?i.shift():u>0&&i.splice(u,1),c.callback(e,...n),null!=e&&l("error",e,c.data)}o<=m.concurrency-m.buffer&&l("unsaturated"),m.idle()&&l("drain"),m.process()}}function v(t){return!(0!==t.length||!m.idle())&&(s(()=>l("drain")),!0)}const _=t=>e=>{if(!e)return new Promise((e,n)=>{u(t,(t,r)=>{if(t)return n(t);e(r)})});f(t),c(t,e)};var g=!1,m={_tasks:new K,_createTaskItem:(t,e)=>({data:t,callback:e}),*[Symbol.iterator](){yield*m._tasks[Symbol.iterator]()},concurrency:e,payload:n,buffer:e/4,started:!1,paused:!1,push(t,e){if(Array.isArray(t)){if(v(t))return;return t.map(t=>h(t,!1,!1,e))}return h(t,!1,!1,e)},pushAsync(t,e){if(Array.isArray(t)){if(v(t))return;return t.map(t=>h(t,!1,!0,e))}return h(t,!1,!0,e)},kill(){f(),m._tasks.empty()},unshift(t,e){if(Array.isArray(t)){if(v(t))return;return t.map(t=>h(t,!0,!1,e))}return h(t,!0,!1,e)},unshiftAsync(t,e){if(Array.isArray(t)){if(v(t))return;return t.map(t=>h(t,!0,!0,e))}return h(t,!0,!0,e)},remove(t){m._tasks.remove(t)},process(){if(!g){for(g=!0;!m.paused&&o<m.concurrency&&m._tasks.length;){var t=[],e=[],n=m._tasks.length;m.payload&&(n=Math.min(n,m.payload));for(var a=0;a<n;a++){var c=m._tasks.shift();t.push(c),i.push(c),e.push(c.data)}o+=1,0===m._tasks.length&&l("empty"),o===m.concurrency&&l("saturated");var u=M(d(t));r(e,u)}g=!1}},length:()=>m._tasks.length,running:()=>o,workersList:()=>i,idle:()=>m._tasks.length+o===0,pause(){m.paused=!0},resume(){!1!==m.paused&&(m.paused=!1,s(m.process))}};return Object.defineProperties(m,{saturated:{writable:!1,value:_("saturated")},unsaturated:{writable:!1,value:_("unsaturated")},empty:{writable:!1,value:_("empty")},drain:{writable:!1,value:_("drain")},error:{writable:!1,value:_("error")}}),m}function Q(t,e){return X(t,1,e)}function tt(t,e,n){return X(t,e,n)}var et=_(function(t,e,n,r){r=P(r);var o=y(n);return D(t,(t,n,r)=>{o(e,t,(t,n)=>{e=n,r(t)})},t=>r(t,e))},4);function nt(...t){var e=t.map(y);return function(...t){var n=this,r=t[t.length-1];return"function"==typeof r?t.pop():r=W(),et(e,t,(t,e,r)=>{e.apply(n,t.concat((t,...e)=>{r(t,e)}))},(t,e)=>r(t,...e)),r[N]}}function rt(...t){return nt(...t.reverse())}var ot=_(function(t,e,n,r){return m(L(e),t,n,r)},4);var it=_(function(t,e,n,r){var o=y(n);return ot(t,e,(t,e)=>{o(t,(t,...n)=>t?e(t):e(t,n))},(t,e)=>{for(var n=[],o=0;o<e.length;o++)e[o]&&(n=n.concat(...e[o]));return r(t,n)})},4);var at=_(function(t,e,n){return it(t,1/0,e,n)},3);var ct=_(function(t,e,n){return it(t,1,e,n)},3);function ut(...t){return function(...e){return e.pop()(null,...t)}}function st(t,e){return(n,r,o,i)=>{var a,c=!1;const u=y(o);n(r,(n,r,o)=>{u(n,(r,i)=>r||!1===r?o(r):t(i)&&!a?(c=!0,a=e(!0,n),o(null,w)):void o())},t=>{if(t)return i(t);i(null,c?a:e(!1))})}}var ft=_(function(t,e,n){return st(t=>t,(t,e)=>e)(I,t,e,n)},3);var lt=_(function(t,e,n,r){return st(t=>t,(t,e)=>e)(L(e),t,n,r)},4);var pt=_(function(t,e,n){return st(t=>t,(t,e)=>e)(L(1),t,e,n)},3);function ht(t){return(e,...n)=>y(e)(...n,(e,...n)=>{"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&n.forEach(e=>console[t](e)))})}var dt=ht("dir");var vt=_(function(t,e,n){n=M(n);var r,o=y(t),i=y(e);function a(t,...e){if(t)return n(t);!1!==t&&(r=e,i(...e,c))}function c(t,e){return t?n(t):!1!==t?e?void o(a):n(null,...r):void 0}return c(null,!0)},3);function yt(t,e,n){const r=y(e);return vt(t,(...t)=>{const e=t.pop();r(...t,(t,n)=>e(t,!n))},n)}function _t(t){return(e,n,r)=>t(e,r)}var gt=_(function(t,e,n){return I(t,_t(y(e)),n)},3);var mt=_(function(t,e,n,r){return L(e)(t,_t(y(n)),r)},4);var bt=_(function(t,e,n){return mt(t,1,e,n)},3);function wt(t){return h(t)?t:function(...e){var n=e.pop(),r=!0;e.push((...t)=>{r?s(()=>n(...t)):n(...t)}),t.apply(this,e),r=!1}}var Pt=_(function(t,e,n){return st(t=>!t,t=>!t)(I,t,e,n)},3);var Rt=_(function(t,e,n,r){return st(t=>!t,t=>!t)(L(e),t,n,r)},4);var Ot=_(function(t,e,n){return st(t=>!t,t=>!t)(D,t,e,n)},3);function xt(t,e,n,r){var o=new Array(e.length);t(e,(t,e,r)=>{n(t,(t,n)=>{o[e]=!!n,r(t)})},t=>{if(t)return r(t);for(var n=[],i=0;i<e.length;i++)o[i]&&n.push(e[i]);r(null,n)})}function jt(t,e,n,r){var o=[];t(e,(t,e,r)=>{n(t,(n,i)=>{if(n)return r(n);i&&o.push({index:e,value:t}),r(n)})},t=>{if(t)return r(t);r(null,o.sort((t,e)=>t.index-e.index).map(t=>t.value))})}function St(t,e,n,r){return(b(e)?xt:jt)(t,e,y(n),r)}var Mt=_(function(t,e,n){return St(I,t,e,n)},3);var Ct=_(function(t,e,n,r){return St(L(e),t,n,r)},4);var Lt=_(function(t,e,n){return St(D,t,e,n)},3);var At=_(function(t,e){var n=M(e),r=y(wt(t));return function t(e){if(e)return n(e);!1!==e&&r(t)}()},2);var Tt=_(function(t,e,n,r){var o=y(n);return ot(t,e,(t,e)=>{o(t,(n,r)=>n?e(n):e(n,{key:r,val:t}))},(t,e)=>{for(var n={},{hasOwnProperty:o}=Object.prototype,i=0;i<e.length;i++)if(e[i]){var{key:a}=e[i],{val:c}=e[i];o.call(n,a)?n[a].push(c):n[a]=[c]}return r(t,n)})},4);function Et(t,e,n){return Tt(t,1/0,e,n)}function It(t,e,n){return Tt(t,1,e,n)}var Bt=ht("log");var kt=_(function(t,e,n,r){r=P(r);var o={},i=y(n);return L(e)(t,(t,e,n)=>{i(t,e,(t,r)=>{if(t)return n(t);o[e]=r,n(t)})},t=>r(t,o))},4);function Dt(t,e,n){return kt(t,1/0,e,n)}function Ft(t,e,n){return kt(t,1,e,n)}function zt(t,e=(t=>t)){var n=Object.create(null),o=Object.create(null),i=y(t),a=r((t,r)=>{var a=e(...t);a in n?s(()=>r(null,...n[a])):a in o?o[a].push(r):(o[a]=[r],i(...t,(t,...e)=>{t||(n[a]=e);var r=o[a];delete o[a];for(var i=0,c=r.length;i<c;i++)r[i](t,...e)}))});return a.memo=n,a.unmemoized=t,a}var Nt=u(a?t.nextTick:i?setImmediate:c),Wt=_((t,e,n)=>{var r=b(e)?[]:{};t(e,(t,e,n)=>{y(t)((t,...o)=>{o.length<2&&([o]=o),r[e]=o,n(t)})},t=>n(t,r))},3);function Ut(t,e){return Wt(I,t,e)}function Gt(t,e,n){return Wt(L(e),t,n)}function Ht(t,e){var n=y(t);return X((t,e)=>{n(t[0],e)},e,1)}class Vt{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(t){let e;for(;t>0&&Yt(this.heap[t],this.heap[e=Jt(t)]);){let n=this.heap[t];this.heap[t]=this.heap[e],this.heap[e]=n,t=e}}percDown(t){let e;for(;(e=qt(t))<this.heap.length&&(e+1<this.heap.length&&Yt(this.heap[e+1],this.heap[e])&&(e+=1),!Yt(this.heap[t],this.heap[e]));){let n=this.heap[t];this.heap[t]=this.heap[e],this.heap[e]=n,t=e}}push(t){t.pushCount=++this.pushCount,this.heap.push(t),this.percUp(this.heap.length-1)}unshift(t){return this.heap.push(t)}shift(){let[t]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),t}toArray(){return[...this]}*[Symbol.iterator](){for(let t=0;t<this.heap.length;t++)yield this.heap[t].data}remove(t){let e=0;for(let n=0;n<this.heap.length;n++)t(this.heap[n])||(this.heap[e]=this.heap[n],e++);this.heap.splice(e);for(let t=Jt(this.heap.length-1);t>=0;t--)this.percDown(t);return this}}function qt(t){return 1+(t<<1)}function Jt(t){return(t+1>>1)-1}function Yt(t,e){return t.priority!==e.priority?t.priority<e.priority:t.pushCount<e.pushCount}function Zt(t,e){var n=Ht(t,e),{push:r,pushAsync:o}=n;function i(t,e){return Array.isArray(t)?t.map(t=>({data:t,priority:e})):{data:t,priority:e}}return n._tasks=new Vt,n._createTaskItem=(({data:t,priority:e},n)=>({data:t,priority:e,callback:n})),n.push=function(t,e=0,n){return r(i(t,e),n)},n.pushAsync=function(t,e=0,n){return o(i(t,e),n)},delete n.unshift,delete n.unshiftAsync,n}var Kt=_(function(t,e){if(e=P(e),!Array.isArray(t))return e(new TypeError("First argument to race must be an array of functions"));if(!t.length)return e();for(var n=0,r=t.length;n<r;n++)y(t[n])(e)},2);function $t(t,e,n,r){var o=[...t].reverse();return et(o,e,n,r)}function Xt(t){var e=y(t);return r(function(t,n){return t.push((t,...e)=>{let r={};if(t&&(r.error=t),e.length>0){var o=e;e.length<=1&&([o]=e),r.value=o}n(null,r)}),e.apply(this,t)})}function Qt(t){var e;return Array.isArray(t)?e=t.map(Xt):(e={},Object.keys(t).forEach(n=>{e[n]=Xt.call(this,t[n])})),e}function te(t,e,n,r){const o=y(n);return St(t,e,(t,e)=>{o(t,(t,n)=>{e(t,!n)})},r)}var ee=_(function(t,e,n){return te(I,t,e,n)},3);var ne=_(function(t,e,n,r){return te(L(e),t,n,r)},4);var re=_(function(t,e,n){return te(D,t,e,n)},3);function oe(t){return function(){return t}}const ie=5,ae=0;function ce(t,e,n){var r={times:ie,intervalFunc:oe(ae)};if(arguments.length<3&&"function"==typeof t?(n=e||W(),e=t):(ue(r,t),n=n||W()),"function"!=typeof e)throw new Error("Invalid arguments for async.retry");var o=y(e),i=1;return function t(){o((e,...o)=>{!1!==e&&(e&&i++<r.times&&("function"!=typeof r.errorFilter||r.errorFilter(e))?setTimeout(t,r.intervalFunc(i-1)):n(e,...o))})}(),n[N]}function ue(t,e){if("object"==typeof e)t.times=+e.times||ie,t.intervalFunc="function"==typeof e.interval?e.interval:oe(+e.interval||ae),t.errorFilter=e.errorFilter;else{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Invalid arguments for async.retry");t.times=+e||ie}}function se(t,e){e||(e=t,t=null);let n=t&&t.arity||e.length;h(e)&&(n+=1);var o=y(e);return r((e,r)=>{function i(t){o(...e,t)}return(e.length<n-1||null==r)&&(e.push(r),r=W()),t?ce(t,i,r):ce(i,r),r[N]})}function fe(t,e){return Wt(D,t,e)}var le=_(function(t,e,n){return st(Boolean,t=>t)(I,t,e,n)},3);var pe=_(function(t,e,n,r){return st(Boolean,t=>t)(L(e),t,n,r)},4);var he=_(function(t,e,n){return st(Boolean,t=>t)(D,t,e,n)},3);var de=_(function(t,e,n){var r=y(e);return B(t,(t,e)=>{r(t,(n,r)=>{if(n)return e(n);e(n,{value:t,criteria:r})})},(t,e)=>{if(t)return n(t);n(null,e.sort(o).map(t=>t.value))});function o(t,e){var n=t.criteria,r=e.criteria;return n<r?-1:n>r?1:0}},3);function ve(t,e,n){var o=y(t);return r((r,i)=>{var a,c=!1;r.push((...t)=>{c||(i(...t),clearTimeout(a))}),a=setTimeout(function(){var e=t.name||"anonymous",r=new Error('Callback function "'+e+'" timed out.');r.code="ETIMEDOUT",n&&(r.info=n),c=!0,i(r)},e),o(...r)})}function ye(t){for(var e=Array(t);t--;)e[t]=t;return e}function _e(t,e,n,r){var o=y(n);return ot(ye(t),e,o,r)}function ge(t,e,n){return _e(t,1/0,e,n)}function me(t,e,n){return _e(t,1,e,n)}function be(t,e,n,r){arguments.length<=3&&"function"==typeof e&&(r=n,n=e,e=Array.isArray(t)?[]:{}),r=P(r||W());var o=y(n);return I(t,(t,n,r)=>{o(e,t,n,r)},t=>r(t,e)),r[N]}var we=_(function(t,e){var n,r=null;return bt(t,(t,e)=>{y(t)((t,...o)=>{if(!1===t)return e(t);o.length<2?[n]=o:n=o,r=t,e(t?null:{})})},()=>e(r,n))});function Pe(t){return(...e)=>(t.unmemoized||t)(...e)}var Re=_(function(t,e,n){n=M(n);var r=y(e),o=y(t),i=[];function a(t,...e){if(t)return n(t);i=e,!1!==t&&o(c)}function c(t,e){return t?n(t):!1!==t?e?void r(a):n(null,...i):void 0}return o(c)},3);function Oe(t,e,n){const r=y(t);return Re(t=>r((e,n)=>t(e,!n)),e,n)}var xe=_(function(t,e){if(e=P(e),!Array.isArray(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var n=0;function r(e){y(t[n++])(...e,M(o))}function o(o,...i){if(!1!==o)return o||n===t.length?e(o,...i):void r(i)}r([])}),je={apply:n,applyEach:k,applyEachSeries:z,asyncify:f,auto:U,autoInject:Z,cargo:Q,cargoQueue:tt,compose:rt,concat:at,concatLimit:it,concatSeries:ct,constant:ut,detect:ft,detectLimit:lt,detectSeries:pt,dir:dt,doUntil:yt,doWhilst:vt,each:gt,eachLimit:mt,eachOf:I,eachOfLimit:A,eachOfSeries:D,eachSeries:bt,ensureAsync:wt,every:Pt,everyLimit:Rt,everySeries:Ot,filter:Mt,filterLimit:Ct,filterSeries:Lt,forever:At,groupBy:Et,groupByLimit:Tt,groupBySeries:It,log:Bt,map:B,mapLimit:ot,mapSeries:F,mapValues:Dt,mapValuesLimit:kt,mapValuesSeries:Ft,memoize:zt,nextTick:Nt,parallel:Ut,parallelLimit:Gt,priorityQueue:Zt,queue:Ht,race:Kt,reduce:et,reduceRight:$t,reflect:Xt,reflectAll:Qt,reject:ee,rejectLimit:ne,rejectSeries:re,retry:ce,retryable:se,seq:nt,series:fe,setImmediate:s,some:le,someLimit:pe,someSeries:he,sortBy:de,timeout:ve,times:ge,timesLimit:_e,timesSeries:me,transform:be,tryEach:we,unmemoize:Pe,until:Oe,waterfall:xe,whilst:Re,all:Pt,allLimit:Rt,allSeries:Ot,any:le,anyLimit:pe,anySeries:he,find:ft,findLimit:lt,findSeries:pt,flatMap:at,flatMapLimit:it,flatMapSeries:ct,forEach:gt,forEachSeries:bt,forEachLimit:mt,forEachOf:I,forEachOfSeries:D,forEachOfLimit:A,inject:et,foldl:et,foldr:$t,select:Mt,selectLimit:Ct,selectSeries:Lt,wrapSync:f,during:Re,doDuring:vt};e.all=Pt,e.allLimit=Rt,e.allSeries=Ot,e.any=le,e.anyLimit=pe,e.anySeries=he,e.apply=n,e.applyEach=k,e.applyEachSeries=z,e.asyncify=f,e.auto=U,e.autoInject=Z,e.cargo=Q,e.cargoQueue=tt,e.compose=rt,e.concat=at,e.concatLimit=it,e.concatSeries=ct,e.constant=ut,e.default=je,e.detect=ft,e.detectLimit=lt,e.detectSeries=pt,e.dir=dt,e.doDuring=vt,e.doUntil=yt,e.doWhilst=vt,e.during=Re,e.each=gt,e.eachLimit=mt,e.eachOf=I,e.eachOfLimit=A,e.eachOfSeries=D,e.eachSeries=bt,e.ensureAsync=wt,e.every=Pt,e.everyLimit=Rt,e.everySeries=Ot,e.filter=Mt,e.filterLimit=Ct,e.filterSeries=Lt,e.find=ft,e.findLimit=lt,e.findSeries=pt,e.flatMap=at,e.flatMapLimit=it,e.flatMapSeries=ct,e.foldl=et,e.foldr=$t,e.forEach=gt,e.forEachLimit=mt,e.forEachOf=I,e.forEachOfLimit=A,e.forEachOfSeries=D,e.forEachSeries=bt,e.forever=At,e.groupBy=Et,e.groupByLimit=Tt,e.groupBySeries=It,e.inject=et,e.log=Bt,e.map=B,e.mapLimit=ot,e.mapSeries=F,e.mapValues=Dt,e.mapValuesLimit=kt,e.mapValuesSeries=Ft,e.memoize=zt,e.nextTick=Nt,e.parallel=Ut,e.parallelLimit=Gt,e.priorityQueue=Zt,e.queue=Ht,e.race=Kt,e.reduce=et,e.reduceRight=$t,e.reflect=Xt,e.reflectAll=Qt,e.reject=ee,e.rejectLimit=ne,e.rejectSeries=re,e.retry=ce,e.retryable=se,e.select=Mt,e.selectLimit=Ct,e.selectSeries=Lt,e.seq=nt,e.series=fe,e.setImmediate=s,e.some=le,e.someLimit=pe,e.someSeries=he,e.sortBy=de,e.timeout=ve,e.times=ge,e.timesLimit=_e,e.timesSeries=me,e.transform=be,e.tryEach=we,e.unmemoize=Pe,e.until=Oe,e.waterfall=xe,e.whilst=Re,e.wrapSync=f,Object.defineProperty(e,"__esModule",{value:!0})})}).call(this,t("_process"))},{_process:1}],3:[function(t,e,n){(function(t){(function(){var r,o=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",s=500,f="__lodash_placeholder__",l=1,p=2,h=4,d=1,v=2,y=1,_=2,g=4,m=8,b=16,w=32,P=64,R=128,O=256,x=512,j=30,S="...",M=800,C=16,L=1,A=2,T=1/0,E=9007199254740991,I=1.7976931348623157e308,B=NaN,k=4294967295,D=k-1,F=k>>>1,z=[["ary",R],["bind",y],["bindKey",_],["curry",m],["curryRight",b],["flip",x],["partial",w],["partialRight",P],["rearg",O]],N="[object Arguments]",W="[object Array]",U="[object AsyncFunction]",G="[object Boolean]",H="[object Date]",V="[object DOMException]",q="[object Error]",J="[object Function]",Y="[object GeneratorFunction]",Z="[object Map]",K="[object Number]",$="[object Null]",X="[object Object]",Q="[object Proxy]",tt="[object RegExp]",et="[object Set]",nt="[object String]",rt="[object Symbol]",ot="[object Undefined]",it="[object WeakMap]",at="[object WeakSet]",ct="[object ArrayBuffer]",ut="[object DataView]",st="[object Float32Array]",ft="[object Float64Array]",lt="[object Int8Array]",pt="[object Int16Array]",ht="[object Int32Array]",dt="[object Uint8Array]",vt="[object Uint8ClampedArray]",yt="[object Uint16Array]",_t="[object Uint32Array]",gt=/\b__p \+= '';/g,mt=/\b(__p \+=) '' \+/g,bt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wt=/&(?:amp|lt|gt|quot|#39);/g,Pt=/[&<>"']/g,Rt=RegExp(wt.source),Ot=RegExp(Pt.source),xt=/<%-([\s\S]+?)%>/g,jt=/<%([\s\S]+?)%>/g,St=/<%=([\s\S]+?)%>/g,Mt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ct=/^\w*$/,Lt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,At=/[\\^$.*+?()[\]{}|]/g,Tt=RegExp(At.source),Et=/^\s+/,It=/\s/,Bt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,kt=/\{\n\/\* \[wrapped with (.+)\] \*/,Dt=/,? & /,Ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,zt=/[()=,{}\[\]\/\s]/,Nt=/\\(\\)?/g,Wt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ut=/\w*$/,Gt=/^[-+]0x[0-9a-f]+$/i,Ht=/^0b[01]+$/i,Vt=/^\[object .+?Constructor\]$/,qt=/^0o[0-7]+$/i,Jt=/^(?:0|[1-9]\d*)$/,Yt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Zt=/($^)/,Kt=/['\n\r\u2028\u2029\\]/g,$t="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Xt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Qt="[\\ud800-\\udfff]",te="["+Xt+"]",ee="["+$t+"]",ne="\\d+",re="[\\u2700-\\u27bf]",oe="[a-z\\xdf-\\xf6\\xf8-\\xff]",ie="[^\\ud800-\\udfff"+Xt+ne+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ae="\\ud83c[\\udffb-\\udfff]",ce="[^\\ud800-\\udfff]",ue="(?:\\ud83c[\\udde6-\\uddff]){2}",se="[\\ud800-\\udbff][\\udc00-\\udfff]",fe="[A-Z\\xc0-\\xd6\\xd8-\\xde]",le="(?:"+oe+"|"+ie+")",pe="(?:"+fe+"|"+ie+")",he="(?:"+ee+"|"+ae+")"+"?",de="[\\ufe0e\\ufe0f]?"+he+("(?:\\u200d(?:"+[ce,ue,se].join("|")+")[\\ufe0e\\ufe0f]?"+he+")*"),ve="(?:"+[re,ue,se].join("|")+")"+de,ye="(?:"+[ce+ee+"?",ee,ue,se,Qt].join("|")+")",_e=RegExp("['\u2019]","g"),ge=RegExp(ee,"g"),me=RegExp(ae+"(?="+ae+")|"+ye+de,"g"),be=RegExp([fe+"?"+oe+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[te,fe,"$"].join("|")+")",pe+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[te,fe+le,"$"].join("|")+")",fe+"?"+le+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",fe+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ne,ve].join("|"),"g"),we=RegExp("[\\u200d\\ud800-\\udfff"+$t+"\\ufe0e\\ufe0f]"),Pe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Re=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Oe=-1,xe={};xe[st]=xe[ft]=xe[lt]=xe[pt]=xe[ht]=xe[dt]=xe[vt]=xe[yt]=xe[_t]=!0,xe[N]=xe[W]=xe[ct]=xe[G]=xe[ut]=xe[H]=xe[q]=xe[J]=xe[Z]=xe[K]=xe[X]=xe[tt]=xe[et]=xe[nt]=xe[it]=!1;var je={};je[N]=je[W]=je[ct]=je[ut]=je[G]=je[H]=je[st]=je[ft]=je[lt]=je[pt]=je[ht]=je[Z]=je[K]=je[X]=je[tt]=je[et]=je[nt]=je[rt]=je[dt]=je[vt]=je[yt]=je[_t]=!0,je[q]=je[J]=je[it]=!1;var Se={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Me=parseFloat,Ce=parseInt,Le="object"==typeof t&&t&&t.Object===Object&&t,Ae="object"==typeof self&&self&&self.Object===Object&&self,Te=Le||Ae||Function("return this")(),Ee="object"==typeof n&&n&&!n.nodeType&&n,Ie=Ee&&"object"==typeof e&&e&&!e.nodeType&&e,Be=Ie&&Ie.exports===Ee,ke=Be&&Le.process,De=function(){try{var t=Ie&&Ie.require&&Ie.require("util").types;return t||ke&&ke.binding&&ke.binding("util")}catch(t){}}(),Fe=De&&De.isArrayBuffer,ze=De&&De.isDate,Ne=De&&De.isMap,We=De&&De.isRegExp,Ue=De&&De.isSet,Ge=De&&De.isTypedArray;function He(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ve(t,e,n,r){for(var o=-1,i=null==t?0:t.length;++o<i;){var a=t[o];e(r,a,n(a),t)}return r}function qe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Je(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ye(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Ze(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}function Ke(t,e){return!!(null==t?0:t.length)&&sn(t,e,0)>-1}function $e(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}function Xe(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function Qe(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function tn(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function en(t,e,n,r){var o=null==t?0:t.length;for(r&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function nn(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var rn=hn("length");function on(t){return t.split("")}function an(t){return t.match(Ft)||[]}function cn(t,e,n){var r;return n(t,function(t,n,o){if(e(t,n,o))return r=n,!1}),r}function un(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function sn(t,e,n){return e==e?zn(t,e,n):un(t,ln,n)}function fn(t,e,n,r){for(var o=n-1,i=t.length;++o<i;)if(r(t[o],e))return o;return-1}function ln(t){return t!=t}function pn(t,e){var n=null==t?0:t.length;return n?_n(t,e)/n:B}function hn(t){return function(e){return null==e?r:e[t]}}function dn(t){return function(e){return null==t?r:t[e]}}function vn(t,e,n,r,o){return o(t,function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)}),n}function yn(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function _n(t,e){for(var n,o=-1,i=t.length;++o<i;){var a=e(t[o]);a!==r&&(n=n===r?a:n+a)}return n}function gn(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function mn(t,e){return Xe(e,function(e){return[e,t[e]]})}function bn(t){return t?t.slice(0,Gn(t)+1).replace(Et,""):t}function wn(t){return function(e){return t(e)}}function Pn(t,e){return Xe(e,function(e){return t[e]})}function Rn(t,e){return t.has(e)}function On(t,e){for(var n=-1,r=t.length;++n<r&&sn(e,t[n],0)>-1;);return n}function xn(t,e){for(var n=t.length;n--&&sn(e,t[n],0)>-1;);return n}function jn(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Sn=dn({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Mn=dn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Cn(t){return"\\"+Se[t]}function Ln(t,e){return null==t?r:t[e]}function An(t){return we.test(t)}function Tn(t){return Pe.test(t)}function En(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function In(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function Bn(t,e){return function(n){return t(e(n))}}function kn(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a=t[n];a!==e&&a!==f||(t[n]=f,i[o++]=n)}return i}function Dn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Fn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function zn(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}function Nn(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}function Wn(t){return An(t)?Vn(t):rn(t)}function Un(t){return An(t)?qn(t):on(t)}function Gn(t){for(var e=t.length;e--&&It.test(t.charAt(e)););return e}var Hn=dn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});function Vn(t){for(var e=me.lastIndex=0;me.test(t);)++e;return e}function qn(t){return t.match(me)||[]}function Jn(t){return t.match(be)||[]}var Yn=function t(e){var n=(e=null==e?Te:Yn.defaults(Te.Object(),e,Yn.pick(Te,Re))).Array,It=e.Date,Ft=e.Error,$t=e.Function,Xt=e.Math,Qt=e.Object,te=e.RegExp,ee=e.String,ne=e.TypeError,re=n.prototype,oe=$t.prototype,ie=Qt.prototype,ae=e["__core-js_shared__"],ce=oe.toString,ue=ie.hasOwnProperty,se=0,fe=function(){var t=/[^.]+$/.exec(ae&&ae.keys&&ae.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),le=ie.toString,pe=ce.call(Qt),he=Te._,de=te("^"+ce.call(ue).replace(At,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ve=Be?e.Buffer:r,ye=e.Symbol,me=e.Uint8Array,be=ve?ve.allocUnsafe:r,we=Bn(Qt.getPrototypeOf,Qt),Pe=Qt.create,Se=ie.propertyIsEnumerable,Le=re.splice,Ae=ye?ye.isConcatSpreadable:r,Ee=ye?ye.iterator:r,Ie=ye?ye.toStringTag:r,ke=function(){try{var t=ha(Qt,"defineProperty");return t({},"",{}),t}catch(t){}}(),De=e.clearTimeout!==Te.clearTimeout&&e.clearTimeout,rn=It&&It.now!==Te.Date.now&&It.now,on=e.setTimeout!==Te.setTimeout&&e.setTimeout,dn=Xt.ceil,zn=Xt.floor,Vn=Qt.getOwnPropertySymbols,qn=ve?ve.isBuffer:r,Zn=e.isFinite,Kn=re.join,$n=Bn(Qt.keys,Qt),Xn=Xt.max,Qn=Xt.min,tr=It.now,er=e.parseInt,nr=Xt.random,rr=re.reverse,or=ha(e,"DataView"),ir=ha(e,"Map"),ar=ha(e,"Promise"),cr=ha(e,"Set"),ur=ha(e,"WeakMap"),sr=ha(Qt,"create"),fr=ur&&new ur,lr={},pr=$a(or),hr=$a(ir),dr=$a(ar),vr=$a(cr),yr=$a(ur),_r=ye?ye.prototype:r,gr=_r?_r.valueOf:r,mr=_r?_r.toString:r;function br(t){if(vu(t)&&!ou(t)&&!(t instanceof Or)){if(t instanceof Rr)return t;if(ue.call(t,"__wrapped__"))return Qa(t)}return new Rr(t)}var wr=function(){function t(){}return function(e){if(!du(e))return{};if(Pe)return Pe(e);t.prototype=e;var n=new t;return t.prototype=r,n}}();function Pr(){}function Rr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function Or(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=k,this.__views__=[]}function xr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function jr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Sr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Mr(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Sr;++e<n;)this.add(t[e])}function Cr(t){var e=this.__data__=new jr(t);this.size=e.size}function Lr(t,e){var n=ou(t),r=!n&&ru(t),o=!n&&!r&&uu(t),i=!n&&!r&&!o&&Ru(t),a=n||r||o||i,c=a?gn(t.length,ee):[],u=c.length;for(var s in t)!e&&!ue.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||ja(s,u))||c.push(s);return c}function Ar(t){var e=t.length;return e?t[Fo(0,e-1)]:r}function Tr(t,e){return Ya(Oi(t),Ur(e,0,t.length))}function Er(t){return Ya(Oi(t))}function Ir(t,e,n){(n===r||tu(t[e],n))&&(n!==r||e in t)||Nr(t,e,n)}function Br(t,e,n){var o=t[e];ue.call(t,e)&&tu(o,n)&&(n!==r||e in t)||Nr(t,e,n)}function kr(t,e){for(var n=t.length;n--;)if(tu(t[n][0],e))return n;return-1}function Dr(t,e,n,r){return Yr(t,function(t,o,i){e(r,t,n(t),i)}),r}function Fr(t,e){return t&&xi(e,Vu(e),t)}function zr(t,e){return t&&xi(e,qu(e),t)}function Nr(t,e,n){"__proto__"==e&&ke?ke(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Wr(t,e){for(var o=-1,i=e.length,a=n(i),c=null==t;++o<i;)a[o]=c?r:Nu(t,e[o]);return a}function Ur(t,e,n){return t==t&&(n!==r&&(t=t<=n?t:n),e!==r&&(t=t>=e?t:e)),t}function Gr(t,e,n,o,i,a){var c,u=e&l,s=e&p,f=e&h;if(n&&(c=i?n(t,o,i,a):n(t)),c!==r)return c;if(!du(t))return t;var d=ou(t);if(d){if(c=wa(t),!u)return Oi(t,c)}else{var v=_a(t),y=v==J||v==Y;if(uu(t))return di(t,u);if(v==X||v==N||y&&!i){if(c=s||y?{}:Pa(t),!u)return s?Si(t,zr(c,t)):ji(t,Fr(c,t))}else{if(!je[v])return i?t:{};c=Ra(t,v,u)}}a||(a=new Cr);var _=a.get(t);if(_)return _;a.set(t,c),bu(t)?t.forEach(function(r){c.add(Gr(r,e,n,r,t,a))}):yu(t)&&t.forEach(function(r,o){c.set(o,Gr(r,e,n,o,t,a))});var g=d?r:(f?s?aa:ia:s?qu:Vu)(t);return qe(g||t,function(r,o){g&&(r=t[o=r]),Br(c,o,Gr(r,e,n,o,t,a))}),c}function Hr(t){var e=Vu(t);return function(n){return Vr(n,t,e)}}function Vr(t,e,n){var o=n.length;if(null==t)return!o;for(t=Qt(t);o--;){var i=n[o],a=e[i],c=t[i];if(c===r&&!(i in t)||!a(c))return!1}return!0}function qr(t,e,n){if("function"!=typeof t)throw new ne(a);return Ha(function(){t.apply(r,n)},e)}function Jr(t,e,n,r){var i=-1,a=Ke,c=!0,u=t.length,s=[],f=e.length;if(!u)return s;n&&(e=Xe(e,wn(n))),r?(a=$e,c=!1):e.length>=o&&(a=Rn,c=!1,e=new Mr(e));t:for(;++i<u;){var l=t[i],p=null==n?l:n(l);if(l=r||0!==l?l:0,c&&p==p){for(var h=f;h--;)if(e[h]===p)continue t;s.push(l)}else a(e,p,r)||s.push(l)}return s}br.templateSettings={escape:xt,evaluate:jt,interpolate:St,variable:"",imports:{_:br}},br.prototype=Pr.prototype,br.prototype.constructor=br,Rr.prototype=wr(Pr.prototype),Rr.prototype.constructor=Rr,Or.prototype=wr(Pr.prototype),Or.prototype.constructor=Or,xr.prototype.clear=function(){this.__data__=sr?sr(null):{},this.size=0},xr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},xr.prototype.get=function(t){var e=this.__data__;if(sr){var n=e[t];return n===u?r:n}return ue.call(e,t)?e[t]:r},xr.prototype.has=function(t){var e=this.__data__;return sr?e[t]!==r:ue.call(e,t)},xr.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=sr&&e===r?u:e,this},jr.prototype.clear=function(){this.__data__=[],this.size=0},jr.prototype.delete=function(t){var e=this.__data__,n=kr(e,t);return!(n<0||(n==e.length-1?e.pop():Le.call(e,n,1),--this.size,0))},jr.prototype.get=function(t){var e=this.__data__,n=kr(e,t);return n<0?r:e[n][1]},jr.prototype.has=function(t){return kr(this.__data__,t)>-1},jr.prototype.set=function(t,e){var n=this.__data__,r=kr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Sr.prototype.clear=function(){this.size=0,this.__data__={hash:new xr,map:new(ir||jr),string:new xr}},Sr.prototype.delete=function(t){var e=la(this,t).delete(t);return this.size-=e?1:0,e},Sr.prototype.get=function(t){return la(this,t).get(t)},Sr.prototype.has=function(t){return la(this,t).has(t)},Sr.prototype.set=function(t,e){var n=la(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Mr.prototype.add=Mr.prototype.push=function(t){return this.__data__.set(t,u),this},Mr.prototype.has=function(t){return this.__data__.has(t)},Cr.prototype.clear=function(){this.__data__=new jr,this.size=0},Cr.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Cr.prototype.get=function(t){return this.__data__.get(t)},Cr.prototype.has=function(t){return this.__data__.has(t)},Cr.prototype.set=function(t,e){var n=this.__data__;if(n instanceof jr){var r=n.__data__;if(!ir||r.length<o-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Sr(r)}return n.set(t,e),this.size=n.size,this};var Yr=Li(ro),Zr=Li(oo,!0);function Kr(t,e){var n=!0;return Yr(t,function(t,r,o){return n=!!e(t,r,o)}),n}function $r(t,e,n){for(var o=-1,i=t.length;++o<i;){var a=t[o],c=e(a);if(null!=c&&(u===r?c==c&&!Pu(c):n(c,u)))var u=c,s=a}return s}function Xr(t,e,n,o){var i=t.length;for((n=Mu(n))<0&&(n=-n>i?0:i+n),(o=o===r||o>i?i:Mu(o))<0&&(o+=i),o=n>o?0:Cu(o);n<o;)t[n++]=e;return t}function Qr(t,e){var n=[];return Yr(t,function(t,r,o){e(t,r,o)&&n.push(t)}),n}function to(t,e,n,r,o){var i=-1,a=t.length;for(n||(n=xa),o||(o=[]);++i<a;){var c=t[i];e>0&&n(c)?e>1?to(c,e-1,n,r,o):Qe(o,c):r||(o[o.length]=c)}return o}var eo=Ai(),no=Ai(!0);function ro(t,e){return t&&eo(t,e,Vu)}function oo(t,e){return t&&no(t,e,Vu)}function io(t,e){return Ze(e,function(e){return lu(t[e])})}function ao(t,e){for(var n=0,o=(e=fi(e,t)).length;null!=t&&n<o;)t=t[Ka(e[n++])];return n&&n==o?t:r}function co(t,e,n){var r=e(t);return ou(t)?r:Qe(r,n(t))}function uo(t){return null==t?t===r?ot:$:Ie&&Ie in Qt(t)?da(t):Fa(t)}function so(t,e){return t>e}function fo(t,e){return null!=t&&ue.call(t,e)}function lo(t,e){return null!=t&&e in Qt(t)}function po(t,e,n){return t>=Qn(e,n)&&t<Xn(e,n)}function ho(t,e,o){for(var i=o?$e:Ke,a=t[0].length,c=t.length,u=c,s=n(c),f=1/0,l=[];u--;){var p=t[u];u&&e&&(p=Xe(p,wn(e))),f=Qn(p.length,f),s[u]=!o&&(e||a>=120&&p.length>=120)?new Mr(u&&p):r}p=t[0];var h=-1,d=s[0];t:for(;++h<a&&l.length<f;){var v=p[h],y=e?e(v):v;if(v=o||0!==v?v:0,!(d?Rn(d,y):i(l,y,o))){for(u=c;--u;){var _=s[u];if(!(_?Rn(_,y):i(t[u],y,o)))continue t}d&&d.push(y),l.push(v)}}return l}function vo(t,e,n,r){return ro(t,function(t,o,i){e(r,n(t),o,i)}),r}function yo(t,e,n){var o=null==(t=Na(t,e=fi(e,t)))?t:t[Ka(fc(e))];return null==o?r:He(o,t,n)}function _o(t){return vu(t)&&uo(t)==N}function go(t,e,n,r,o){return t===e||(null==t||null==e||!vu(t)&&!vu(e)?t!=t&&e!=e:mo(t,e,n,r,go,o))}function mo(t,e,n,r,o,i){var a=ou(t),c=ou(e),u=a?W:_a(t),s=c?W:_a(e),f=(u=u==N?X:u)==X,l=(s=s==N?X:s)==X,p=u==s;if(p&&uu(t)){if(!uu(e))return!1;a=!0,f=!1}if(p&&!f)return i||(i=new Cr),a||Ru(t)?ea(t,e,n,r,o,i):na(t,e,u,n,r,o,i);if(!(n&d)){var h=f&&ue.call(t,"__wrapped__"),v=l&&ue.call(e,"__wrapped__");if(h||v){var y=h?t.value():t,_=v?e.value():e;return i||(i=new Cr),o(y,_,n,r,i)}}return!!p&&(i||(i=new Cr),ra(t,e,n,r,o,i))}function bo(t,e,n,o){var i=n.length,a=i,c=!o;if(null==t)return!a;for(t=Qt(t);i--;){var u=n[i];if(c&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<a;){var s=(u=n[i])[0],f=t[s],l=u[1];if(c&&u[2]){if(f===r&&!(s in t))return!1}else{var p=new Cr;if(o)var h=o(f,l,s,t,e,p);if(!(h===r?go(l,f,d|v,o,p):h))return!1}}return!0}function wo(t){return!(!du(t)||Aa(t))&&(lu(t)?de:Vt).test($a(t))}function Po(t){return"function"==typeof t?t:null==t?_s:"object"==typeof t?ou(t)?Mo(t[0],t[1]):So(t):js(t)}function Ro(t){if(!Ea(t))return $n(t);var e=[];for(var n in Qt(t))ue.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Oo(t){if(!du(t))return Da(t);var e=Ea(t),n=[];for(var r in t)("constructor"!=r||!e&&ue.call(t,r))&&n.push(r);return n}function xo(t,e){return t<e}function jo(t,e){var r=-1,o=au(t)?n(t.length):[];return Yr(t,function(t,n,i){o[++r]=e(t,n,i)}),o}function So(t){var e=pa(t);return 1==e.length&&e[0][2]?Ba(e[0][0],e[0][1]):function(n){return n===t||bo(n,t,e)}}function Mo(t,e){return Ma(t)&&Ia(e)?Ba(Ka(t),e):function(n){var o=Nu(n,t);return o===r&&o===e?Wu(n,t):go(e,o,d|v)}}function Co(t,e,n,o,i){t!==e&&eo(e,function(a,c){if(i||(i=new Cr),du(a))Lo(t,e,c,n,Co,o,i);else{var u=o?o(Ua(t,c),a,c+"",t,e,i):r;u===r&&(u=a),Ir(t,c,u)}},qu)}function Lo(t,e,n,o,i,a,c){var u=Ua(t,n),s=Ua(e,n),f=c.get(s);if(f)Ir(t,n,f);else{var l=a?a(u,s,n+"",t,e,c):r,p=l===r;if(p){var h=ou(s),d=!h&&uu(s),v=!h&&!d&&Ru(s);l=s,h||d||v?ou(u)?l=u:cu(u)?l=Oi(u):d?(p=!1,l=di(s,!0)):v?(p=!1,l=mi(s,!0)):l=[]:gu(s)||ru(s)?(l=u,ru(u)?l=Au(u):du(u)&&!lu(u)||(l=Pa(s))):p=!1}p&&(c.set(s,l),i(l,s,o,a,c),c.delete(s)),Ir(t,n,l)}}function Ao(t,e){var n=t.length;if(n)return ja(e+=e<0?n:0,n)?t[e]:r}function To(t,e,n){var r=-1;return e=Xe(e=e.length?Xe(e,function(t){return ou(t)?function(e){return ao(e,1===t.length?t[0]:t)}:t}):[_s],wn(fa())),yn(jo(t,function(t,n,o){return{criteria:Xe(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return wi(t,e,n)})}function Eo(t,e){return Io(t,e,function(e,n){return Wu(t,n)})}function Io(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var a=e[r],c=ao(t,a);n(c,a)&&Ho(i,fi(a,t),c)}return i}function Bo(t){return function(e){return ao(e,t)}}function ko(t,e,n,r){var o=r?fn:sn,i=-1,a=e.length,c=t;for(t===e&&(e=Oi(e)),n&&(c=Xe(t,wn(n)));++i<a;)for(var u=0,s=e[i],f=n?n(s):s;(u=o(c,f,u,r))>-1;)c!==t&&Le.call(c,u,1),Le.call(t,u,1);return t}function Do(t,e){for(var n=t?e.length:0,r=n-1;n--;){var o=e[n];if(n==r||o!==i){var i=o;ja(o)?Le.call(t,o,1):ni(t,o)}}return t}function Fo(t,e){return t+zn(nr()*(e-t+1))}function zo(t,e,r,o){for(var i=-1,a=Xn(dn((e-t)/(r||1)),0),c=n(a);a--;)c[o?a:++i]=t,t+=r;return c}function No(t,e){var n="";if(!t||e<1||e>E)return n;do{e%2&&(n+=t),(e=zn(e/2))&&(t+=t)}while(e);return n}function Wo(t,e){return Va(za(t,e,_s),t+"")}function Uo(t){return Ar(ts(t))}function Go(t,e){var n=ts(t);return Ya(n,Ur(e,0,n.length))}function Ho(t,e,n,o){if(!du(t))return t;for(var i=-1,a=(e=fi(e,t)).length,c=a-1,u=t;null!=u&&++i<a;){var s=Ka(e[i]),f=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return t;if(i!=c){var l=u[s];(f=o?o(l,s,u):r)===r&&(f=du(l)?l:ja(e[i+1])?[]:{})}Br(u,s,f),u=u[s]}return t}var Vo=fr?function(t,e){return fr.set(t,e),t}:_s,qo=ke?function(t,e){return ke(t,"toString",{configurable:!0,enumerable:!1,value:ds(e),writable:!0})}:_s;function Jo(t){return Ya(ts(t))}function Yo(t,e,r){var o=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=n(i);++o<i;)a[o]=t[o+e];return a}function Zo(t,e){var n;return Yr(t,function(t,r,o){return!(n=e(t,r,o))}),!!n}function Ko(t,e,n){var r=0,o=null==t?r:t.length;if("number"==typeof e&&e==e&&o<=F){for(;r<o;){var i=r+o>>>1,a=t[i];null!==a&&!Pu(a)&&(n?a<=e:a<e)?r=i+1:o=i}return o}return $o(t,e,_s,n)}function $o(t,e,n,o){var i=0,a=null==t?0:t.length;if(0===a)return 0;for(var c=(e=n(e))!=e,u=null===e,s=Pu(e),f=e===r;i<a;){var l=zn((i+a)/2),p=n(t[l]),h=p!==r,d=null===p,v=p==p,y=Pu(p);if(c)var _=o||v;else _=f?v&&(o||h):u?v&&h&&(o||!d):s?v&&h&&!d&&(o||!y):!d&&!y&&(o?p<=e:p<e);_?i=l+1:a=l}return Qn(a,D)}function Xo(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a=t[n],c=e?e(a):a;if(!n||!tu(c,u)){var u=c;i[o++]=0===a?0:a}}return i}function Qo(t){return"number"==typeof t?t:Pu(t)?B:+t}function ti(t){if("string"==typeof t)return t;if(ou(t))return Xe(t,ti)+"";if(Pu(t))return mr?mr.call(t):"";var e=t+"";return"0"==e&&1/t==-T?"-0":e}function ei(t,e,n){var r=-1,i=Ke,a=t.length,c=!0,u=[],s=u;if(n)c=!1,i=$e;else if(a>=o){var f=e?null:Zi(t);if(f)return Dn(f);c=!1,i=Rn,s=new Mr}else s=e?[]:u;t:for(;++r<a;){var l=t[r],p=e?e(l):l;if(l=n||0!==l?l:0,c&&p==p){for(var h=s.length;h--;)if(s[h]===p)continue t;e&&s.push(p),u.push(l)}else i(s,p,n)||(s!==u&&s.push(p),u.push(l))}return u}function ni(t,e){return null==(t=Na(t,e=fi(e,t)))||delete t[Ka(fc(e))]}function ri(t,e,n,r){return Ho(t,e,n(ao(t,e)),r)}function oi(t,e,n,r){for(var o=t.length,i=r?o:-1;(r?i--:++i<o)&&e(t[i],i,t););return n?Yo(t,r?0:i,r?i+1:o):Yo(t,r?i+1:0,r?o:i)}function ii(t,e){var n=t;return n instanceof Or&&(n=n.value()),tn(e,function(t,e){return e.func.apply(e.thisArg,Qe([t],e.args))},n)}function ai(t,e,r){var o=t.length;if(o<2)return o?ei(t[0]):[];for(var i=-1,a=n(o);++i<o;)for(var c=t[i],u=-1;++u<o;)u!=i&&(a[i]=Jr(a[i]||c,t[u],e,r));return ei(to(a,1),e,r)}function ci(t,e,n){for(var o=-1,i=t.length,a=e.length,c={};++o<i;){var u=o<a?e[o]:r;n(c,t[o],u)}return c}function ui(t){return cu(t)?t:[]}function si(t){return"function"==typeof t?t:_s}function fi(t,e){return ou(t)?t:Ma(t,e)?[t]:Za(Tu(t))}var li=Wo;function pi(t,e,n){var o=t.length;return n=n===r?o:n,!e&&n>=o?t:Yo(t,e,n)}var hi=De||function(t){return Te.clearTimeout(t)};function di(t,e){if(e)return t.slice();var n=t.length,r=be?be(n):new t.constructor(n);return t.copy(r),r}function vi(t){var e=new t.constructor(t.byteLength);return new me(e).set(new me(t)),e}function yi(t,e){var n=e?vi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function _i(t){var e=new t.constructor(t.source,Ut.exec(t));return e.lastIndex=t.lastIndex,e}function gi(t){return gr?Qt(gr.call(t)):{}}function mi(t,e){var n=e?vi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function bi(t,e){if(t!==e){var n=t!==r,o=null===t,i=t==t,a=Pu(t),c=e!==r,u=null===e,s=e==e,f=Pu(e);if(!u&&!f&&!a&&t>e||a&&c&&s&&!u&&!f||o&&c&&s||!n&&s||!i)return 1;if(!o&&!a&&!f&&t<e||f&&n&&i&&!o&&!a||u&&n&&i||!c&&i||!s)return-1}return 0}function wi(t,e,n){for(var r=-1,o=t.criteria,i=e.criteria,a=o.length,c=n.length;++r<a;){var u=bi(o[r],i[r]);if(u)return r>=c?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}function Pi(t,e,r,o){for(var i=-1,a=t.length,c=r.length,u=-1,s=e.length,f=Xn(a-c,0),l=n(s+f),p=!o;++u<s;)l[u]=e[u];for(;++i<c;)(p||i<a)&&(l[r[i]]=t[i]);for(;f--;)l[u++]=t[i++];return l}function Ri(t,e,r,o){for(var i=-1,a=t.length,c=-1,u=r.length,s=-1,f=e.length,l=Xn(a-u,0),p=n(l+f),h=!o;++i<l;)p[i]=t[i];for(var d=i;++s<f;)p[d+s]=e[s];for(;++c<u;)(h||i<a)&&(p[d+r[c]]=t[i++]);return p}function Oi(t,e){var r=-1,o=t.length;for(e||(e=n(o));++r<o;)e[r]=t[r];return e}function xi(t,e,n,o){var i=!n;n||(n={});for(var a=-1,c=e.length;++a<c;){var u=e[a],s=o?o(n[u],t[u],u,n,t):r;s===r&&(s=t[u]),i?Nr(n,u,s):Br(n,u,s)}return n}function ji(t,e){return xi(t,va(t),e)}function Si(t,e){return xi(t,ya(t),e)}function Mi(t,e){return function(n,r){var o=ou(n)?Ve:Dr,i=e?e():{};return o(n,t,fa(r,2),i)}}function Ci(t){return Wo(function(e,n){var o=-1,i=n.length,a=i>1?n[i-1]:r,c=i>2?n[2]:r;for(a=t.length>3&&"function"==typeof a?(i--,a):r,c&&Sa(n[0],n[1],c)&&(a=i<3?r:a,i=1),e=Qt(e);++o<i;){var u=n[o];u&&t(e,u,o,a)}return e})}function Li(t,e){return function(n,r){if(null==n)return n;if(!au(n))return t(n,r);for(var o=n.length,i=e?o:-1,a=Qt(n);(e?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function Ai(t){return function(e,n,r){for(var o=-1,i=Qt(e),a=r(e),c=a.length;c--;){var u=a[t?c:++o];if(!1===n(i[u],u,i))break}return e}}function Ti(t,e,n){var r=e&y,o=Bi(t);return function e(){return(this&&this!==Te&&this instanceof e?o:t).apply(r?n:this,arguments)}}function Ei(t){return function(e){var n=An(e=Tu(e))?Un(e):r,o=n?n[0]:e.charAt(0),i=n?pi(n,1).join(""):e.slice(1);return o[t]()+i}}function Ii(t){return function(e){return tn(ls(rs(e).replace(_e,"")),t,"")}}function Bi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=wr(t.prototype),r=t.apply(n,e);return du(r)?r:n}}function ki(t,e,o){var i=Bi(t);return function a(){for(var c=arguments.length,u=n(c),s=c,f=sa(a);s--;)u[s]=arguments[s];var l=c<3&&u[0]!==f&&u[c-1]!==f?[]:kn(u,f);return(c-=l.length)<o?Ji(t,e,zi,a.placeholder,r,u,l,r,r,o-c):He(this&&this!==Te&&this instanceof a?i:t,this,u)}}function Di(t){return function(e,n,o){var i=Qt(e);if(!au(e)){var a=fa(n,3);e=Vu(e),n=function(t){return a(i[t],t,i)}}var c=t(e,n,o);return c>-1?i[a?e[c]:c]:r}}function Fi(t){return oa(function(e){var n=e.length,o=n,i=Rr.prototype.thru;for(t&&e.reverse();o--;){var c=e[o];if("function"!=typeof c)throw new ne(a);if(i&&!u&&"wrapper"==ua(c))var u=new Rr([],!0)}for(o=u?o:n;++o<n;){var s=ua(c=e[o]),f="wrapper"==s?ca(c):r;u=f&&La(f[0])&&f[1]==(R|m|w|O)&&!f[4].length&&1==f[9]?u[ua(f[0])].apply(u,f[3]):1==c.length&&La(c)?u[s]():u.thru(c)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&ou(r))return u.plant(r).value();for(var o=0,i=n?e[o].apply(this,t):r;++o<n;)i=e[o].call(this,i);return i}})}function zi(t,e,o,i,a,c,u,s,f,l){var p=e&R,h=e&y,d=e&_,v=e&(m|b),g=e&x,w=d?r:Bi(t);return function r(){for(var y=arguments.length,_=n(y),m=y;m--;)_[m]=arguments[m];if(v)var b=sa(r),P=jn(_,b);if(i&&(_=Pi(_,i,a,v)),c&&(_=Ri(_,c,u,v)),y-=P,v&&y<l){var R=kn(_,b);return Ji(t,e,zi,r.placeholder,o,_,R,s,f,l-y)}var O=h?o:this,x=d?O[t]:t;return y=_.length,s?_=Wa(_,s):g&&y>1&&_.reverse(),p&&f<y&&(_.length=f),this&&this!==Te&&this instanceof r&&(x=w||Bi(x)),x.apply(O,_)}}function Ni(t,e){return function(n,r){return vo(n,t,e(r),{})}}function Wi(t,e){return function(n,o){var i;if(n===r&&o===r)return e;if(n!==r&&(i=n),o!==r){if(i===r)return o;"string"==typeof n||"string"==typeof o?(n=ti(n),o=ti(o)):(n=Qo(n),o=Qo(o)),i=t(n,o)}return i}}function Ui(t){return oa(function(e){return e=Xe(e,wn(fa())),Wo(function(n){var r=this;return t(e,function(t){return He(t,r,n)})})})}function Gi(t,e){var n=(e=e===r?" ":ti(e)).length;if(n<2)return n?No(e,t):e;var o=No(e,dn(t/Wn(e)));return An(e)?pi(Un(o),0,t).join(""):o.slice(0,t)}function Hi(t,e,r,o){var i=e&y,a=Bi(t);return function e(){for(var c=-1,u=arguments.length,s=-1,f=o.length,l=n(f+u),p=this&&this!==Te&&this instanceof e?a:t;++s<f;)l[s]=o[s];for(;u--;)l[s++]=arguments[++c];return He(p,i?r:this,l)}}function Vi(t){return function(e,n,o){return o&&"number"!=typeof o&&Sa(e,n,o)&&(n=o=r),e=Su(e),n===r?(n=e,e=0):n=Su(n),zo(e,n,o=o===r?e<n?1:-1:Su(o),t)}}function qi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Lu(e),n=Lu(n)),t(e,n)}}function Ji(t,e,n,o,i,a,c,u,s,f){var l=e&m;e|=l?w:P,(e&=~(l?P:w))&g||(e&=~(y|_));var p=[t,e,i,l?a:r,l?c:r,l?r:a,l?r:c,u,s,f],h=n.apply(r,p);return La(t)&&Ga(h,p),h.placeholder=o,qa(h,t,e)}function Yi(t){var e=Xt[t];return function(t,n){if(t=Lu(t),(n=null==n?0:Qn(Mu(n),292))&&Zn(t)){var r=(Tu(t)+"e").split("e");return+((r=(Tu(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Zi=cr&&1/Dn(new cr([,-0]))[1]==T?function(t){return new cr(t)}:Ps;function Ki(t){return function(e){var n=_a(e);return n==Z?In(e):n==et?Fn(e):mn(e,t(e))}}function $i(t,e,n,o,i,c,u,s){var f=e&_;if(!f&&"function"!=typeof t)throw new ne(a);var l=o?o.length:0;if(l||(e&=~(w|P),o=i=r),u=u===r?u:Xn(Mu(u),0),s=s===r?s:Mu(s),l-=i?i.length:0,e&P){var p=o,h=i;o=i=r}var d=f?r:ca(t),v=[t,e,n,o,i,p,h,c,u,s];if(d&&ka(v,d),t=v[0],e=v[1],n=v[2],o=v[3],i=v[4],!(s=v[9]=v[9]===r?f?0:t.length:Xn(v[9]-l,0))&&e&(m|b)&&(e&=~(m|b)),e&&e!=y)g=e==m||e==b?ki(t,e,s):e!=w&&e!=(y|w)||i.length?zi.apply(r,v):Hi(t,e,n,o);else var g=Ti(t,e,n);return qa((d?Vo:Ga)(g,v),t,e)}function Xi(t,e,n,o){return t===r||tu(t,ie[n])&&!ue.call(o,n)?e:t}function Qi(t,e,n,o,i,a){return du(t)&&du(e)&&(a.set(e,t),Co(t,e,r,Qi,a),a.delete(e)),t}function ta(t){return gu(t)?r:t}function ea(t,e,n,o,i,a){var c=n&d,u=t.length,s=e.length;if(u!=s&&!(c&&s>u))return!1;var f=a.get(t),l=a.get(e);if(f&&l)return f==e&&l==t;var p=-1,h=!0,y=n&v?new Mr:r;for(a.set(t,e),a.set(e,t);++p<u;){var _=t[p],g=e[p];if(o)var m=c?o(g,_,p,e,t,a):o(_,g,p,t,e,a);if(m!==r){if(m)continue;h=!1;break}if(y){if(!nn(e,function(t,e){if(!Rn(y,e)&&(_===t||i(_,t,n,o,a)))return y.push(e)})){h=!1;break}}else if(_!==g&&!i(_,g,n,o,a)){h=!1;break}}return a.delete(t),a.delete(e),h}function na(t,e,n,r,o,i,a){switch(n){case ut:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ct:return!(t.byteLength!=e.byteLength||!i(new me(t),new me(e)));case G:case H:case K:return tu(+t,+e);case q:return t.name==e.name&&t.message==e.message;case tt:case nt:return t==e+"";case Z:var c=In;case et:var u=r&d;if(c||(c=Dn),t.size!=e.size&&!u)return!1;var s=a.get(t);if(s)return s==e;r|=v,a.set(t,e);var f=ea(c(t),c(e),r,o,i,a);return a.delete(t),f;case rt:if(gr)return gr.call(t)==gr.call(e)}return!1}function ra(t,e,n,o,i,a){var c=n&d,u=ia(t),s=u.length;if(s!=ia(e).length&&!c)return!1;for(var f=s;f--;){var l=u[f];if(!(c?l in e:ue.call(e,l)))return!1}var p=a.get(t),h=a.get(e);if(p&&h)return p==e&&h==t;var v=!0;a.set(t,e),a.set(e,t);for(var y=c;++f<s;){var _=t[l=u[f]],g=e[l];if(o)var m=c?o(g,_,l,e,t,a):o(_,g,l,t,e,a);if(!(m===r?_===g||i(_,g,n,o,a):m)){v=!1;break}y||(y="constructor"==l)}if(v&&!y){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(v=!1)}return a.delete(t),a.delete(e),v}function oa(t){return Va(za(t,r,ic),t+"")}function ia(t){return co(t,Vu,va)}function aa(t){return co(t,qu,ya)}var ca=fr?function(t){return fr.get(t)}:Ps;function ua(t){for(var e=t.name+"",n=lr[e],r=ue.call(lr,e)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==t)return o.name}return e}function sa(t){return(ue.call(br,"placeholder")?br:t).placeholder}function fa(){var t=br.iteratee||gs;return t=t===gs?Po:t,arguments.length?t(arguments[0],arguments[1]):t}function la(t,e){var n=t.__data__;return Ca(e)?n["string"==typeof e?"string":"hash"]:n.map}function pa(t){for(var e=Vu(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,Ia(o)]}return e}function ha(t,e){var n=Ln(t,e);return wo(n)?n:r}function da(t){var e=ue.call(t,Ie),n=t[Ie];try{t[Ie]=r;var o=!0}catch(t){}var i=le.call(t);return o&&(e?t[Ie]=n:delete t[Ie]),i}var va=Vn?function(t){return null==t?[]:(t=Qt(t),Ze(Vn(t),function(e){return Se.call(t,e)}))}:Cs,ya=Vn?function(t){for(var e=[];t;)Qe(e,va(t)),t=we(t);return e}:Cs,_a=uo;function ga(t,e,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Qn(e,t+a);break;case"takeRight":t=Xn(t,e-a)}}return{start:t,end:e}}function ma(t){var e=t.match(kt);return e?e[1].split(Dt):[]}function ba(t,e,n){for(var r=-1,o=(e=fi(e,t)).length,i=!1;++r<o;){var a=Ka(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&hu(o)&&ja(a,o)&&(ou(t)||ru(t))}function wa(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&ue.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Pa(t){return"function"!=typeof t.constructor||Ea(t)?{}:wr(we(t))}function Ra(t,e,n){var r=t.constructor;switch(e){case ct:return vi(t);case G:case H:return new r(+t);case ut:return yi(t,n);case st:case ft:case lt:case pt:case ht:case dt:case vt:case yt:case _t:return mi(t,n);case Z:return new r;case K:case nt:return new r(t);case tt:return _i(t);case et:return new r;case rt:return gi(t)}}function Oa(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Bt,"{\n/* [wrapped with "+e+"] */\n")}function xa(t){return ou(t)||ru(t)||!!(Ae&&t&&t[Ae])}function ja(t,e){var n=typeof t;return!!(e=null==e?E:e)&&("number"==n||"symbol"!=n&&Jt.test(t))&&t>-1&&t%1==0&&t<e}function Sa(t,e,n){if(!du(n))return!1;var r=typeof e;return!!("number"==r?au(n)&&ja(e,n.length):"string"==r&&e in n)&&tu(n[e],t)}function Ma(t,e){if(ou(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Pu(t))||Ct.test(t)||!Mt.test(t)||null!=e&&t in Qt(e)}function Ca(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function La(t){var e=ua(t),n=br[e];if("function"!=typeof n||!(e in Or.prototype))return!1;if(t===n)return!0;var r=ca(n);return!!r&&t===r[0]}function Aa(t){return!!fe&&fe in t}(or&&_a(new or(new ArrayBuffer(1)))!=ut||ir&&_a(new ir)!=Z||ar&&"[object Promise]"!=_a(ar.resolve())||cr&&_a(new cr)!=et||ur&&_a(new ur)!=it)&&(_a=function(t){var e=uo(t),n=e==X?t.constructor:r,o=n?$a(n):"";if(o)switch(o){case pr:return ut;case hr:return Z;case dr:return"[object Promise]";case vr:return et;case yr:return it}return e});var Ta=ae?lu:Ls;function Ea(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ie)}function Ia(t){return t==t&&!du(t)}function Ba(t,e){return function(n){return null!=n&&n[t]===e&&(e!==r||t in Qt(n))}}function ka(t,e){var n=t[1],r=e[1],o=n|r,i=o<(y|_|R),a=r==R&&n==m||r==R&&n==O&&t[7].length<=e[8]||r==(R|O)&&e[7].length<=e[8]&&n==m;if(!i&&!a)return t;r&y&&(t[2]=e[2],o|=n&y?0:g);var c=e[3];if(c){var u=t[3];t[3]=u?Pi(u,c,e[4]):c,t[4]=u?kn(t[3],f):e[4]}return(c=e[5])&&(u=t[5],t[5]=u?Ri(u,c,e[6]):c,t[6]=u?kn(t[5],f):e[6]),(c=e[7])&&(t[7]=c),r&R&&(t[8]=null==t[8]?e[8]:Qn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o,t}function Da(t){var e=[];if(null!=t)for(var n in Qt(t))e.push(n);return e}function Fa(t){return le.call(t)}function za(t,e,o){return e=Xn(e===r?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=Xn(r.length-e,0),c=n(a);++i<a;)c[i]=r[e+i];i=-1;for(var u=n(e+1);++i<e;)u[i]=r[i];return u[e]=o(c),He(t,this,u)}}function Na(t,e){return e.length<2?t:ao(t,Yo(e,0,-1))}function Wa(t,e){for(var n=t.length,o=Qn(e.length,n),i=Oi(t);o--;){var a=e[o];t[o]=ja(a,n)?i[a]:r}return t}function Ua(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Ga=Ja(Vo),Ha=on||function(t,e){return Te.setTimeout(t,e)},Va=Ja(qo);function qa(t,e,n){var r=e+"";return Va(t,Oa(r,Xa(ma(r),n)))}function Ja(t){var e=0,n=0;return function(){var o=tr(),i=C-(o-n);if(n=o,i>0){if(++e>=M)return arguments[0]}else e=0;return t.apply(r,arguments)}}function Ya(t,e){var n=-1,o=t.length,i=o-1;for(e=e===r?o:e;++n<e;){var a=Fo(n,i),c=t[a];t[a]=t[n],t[n]=c}return t.length=e,t}var Za=function(t){var e=Yc(t,function(t){return n.size===s&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Lt,function(t,n,r,o){e.push(r?o.replace(Nt,"$1"):n||t)}),e});function Ka(t){if("string"==typeof t||Pu(t))return t;var e=t+"";return"0"==e&&1/t==-T?"-0":e}function $a(t){if(null!=t){try{return ce.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Xa(t,e){return qe(z,function(n){var r="_."+n[0];e&n[1]&&!Ke(t,r)&&t.push(r)}),t.sort()}function Qa(t){if(t instanceof Or)return t.clone();var e=new Rr(t.__wrapped__,t.__chain__);return e.__actions__=Oi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var tc=Wo(function(t,e){return cu(t)?Jr(t,to(e,1,cu,!0)):[]}),ec=Wo(function(t,e){var n=fc(e);return cu(n)&&(n=r),cu(t)?Jr(t,to(e,1,cu,!0),fa(n,2)):[]}),nc=Wo(function(t,e){var n=fc(e);return cu(n)&&(n=r),cu(t)?Jr(t,to(e,1,cu,!0),r,n):[]});function rc(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:Mu(n);return o<0&&(o=Xn(r+o,0)),un(t,fa(e,3),o)}function oc(t,e,n){var o=null==t?0:t.length;if(!o)return-1;var i=o-1;return n!==r&&(i=Mu(n),i=n<0?Xn(o+i,0):Qn(i,o-1)),un(t,fa(e,3),i,!0)}function ic(t){return null!=t&&t.length?to(t,1):[]}function ac(t){return t&&t.length?t[0]:r}var cc=Wo(function(t){var e=Xe(t,ui);return e.length&&e[0]===t[0]?ho(e):[]}),uc=Wo(function(t){var e=fc(t),n=Xe(t,ui);return e===fc(n)?e=r:n.pop(),n.length&&n[0]===t[0]?ho(n,fa(e,2)):[]}),sc=Wo(function(t){var e=fc(t),n=Xe(t,ui);return(e="function"==typeof e?e:r)&&n.pop(),n.length&&n[0]===t[0]?ho(n,r,e):[]});function fc(t){var e=null==t?0:t.length;return e?t[e-1]:r}var lc=Wo(pc);function pc(t,e){return t&&t.length&&e&&e.length?ko(t,e):t}var hc=oa(function(t,e){var n=null==t?0:t.length,r=Wr(t,e);return Do(t,Xe(e,function(t){return ja(t,n)?+t:t}).sort(bi)),r});function dc(t){return null==t?t:rr.call(t)}var vc=Wo(function(t){return ei(to(t,1,cu,!0))}),yc=Wo(function(t){var e=fc(t);return cu(e)&&(e=r),ei(to(t,1,cu,!0),fa(e,2))}),_c=Wo(function(t){var e=fc(t);return e="function"==typeof e?e:r,ei(to(t,1,cu,!0),r,e)});function gc(t){if(!t||!t.length)return[];var e=0;return t=Ze(t,function(t){if(cu(t))return e=Xn(t.length,e),!0}),gn(e,function(e){return Xe(t,hn(e))})}function mc(t,e){if(!t||!t.length)return[];var n=gc(t);return null==e?n:Xe(n,function(t){return He(e,r,t)})}var bc=Wo(function(t,e){return cu(t)?Jr(t,e):[]}),wc=Wo(function(t){return ai(Ze(t,cu))}),Pc=Wo(function(t){var e=fc(t);return cu(e)&&(e=r),ai(Ze(t,cu),fa(e,2))}),Rc=Wo(function(t){var e=fc(t);return e="function"==typeof e?e:r,ai(Ze(t,cu),r,e)}),Oc=Wo(gc);var xc=Wo(function(t){var e=t.length,n=e>1?t[e-1]:r;return mc(t,n="function"==typeof n?(t.pop(),n):r)});function jc(t){var e=br(t);return e.__chain__=!0,e}function Sc(t,e){return e(t)}var Mc=oa(function(t){var e=t.length,n=e?t[0]:0,o=this.__wrapped__,i=function(e){return Wr(e,t)};return!(e>1||this.__actions__.length)&&o instanceof Or&&ja(n)?((o=o.slice(n,+n+(e?1:0))).__actions__.push({func:Sc,args:[i],thisArg:r}),new Rr(o,this.__chain__).thru(function(t){return e&&!t.length&&t.push(r),t})):this.thru(i)});var Cc=Mi(function(t,e,n){ue.call(t,n)?++t[n]:Nr(t,n,1)});var Lc=Di(rc),Ac=Di(oc);function Tc(t,e){return(ou(t)?qe:Yr)(t,fa(e,3))}function Ec(t,e){return(ou(t)?Je:Zr)(t,fa(e,3))}var Ic=Mi(function(t,e,n){ue.call(t,n)?t[n].push(e):Nr(t,n,[e])});var Bc=Wo(function(t,e,r){var o=-1,i="function"==typeof e,a=au(t)?n(t.length):[];return Yr(t,function(t){a[++o]=i?He(e,t,r):yo(t,e,r)}),a}),kc=Mi(function(t,e,n){Nr(t,n,e)});function Dc(t,e){return(ou(t)?Xe:jo)(t,fa(e,3))}var Fc=Mi(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var zc=Wo(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Sa(t,e[0],e[1])?e=[]:n>2&&Sa(e[0],e[1],e[2])&&(e=[e[0]]),To(t,to(e,1),[])}),Nc=rn||function(){return Te.Date.now()};function Wc(t,e,n){return e=n?r:e,e=t&&null==e?t.length:e,$i(t,R,r,r,r,r,e)}function Uc(t,e){var n;if("function"!=typeof e)throw new ne(a);return t=Mu(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=r),n}}var Gc=Wo(function(t,e,n){var r=y;if(n.length){var o=kn(n,sa(Gc));r|=w}return $i(t,r,e,n,o)}),Hc=Wo(function(t,e,n){var r=y|_;if(n.length){var o=kn(n,sa(Hc));r|=w}return $i(e,r,t,n,o)});function Vc(t,e,n){var o,i,c,u,s,f,l=0,p=!1,h=!1,d=!0;if("function"!=typeof t)throw new ne(a);function v(e){var n=o,a=i;return o=i=r,l=e,u=t.apply(a,n)}function y(t){return l=t,s=Ha(m,e),p?v(t):u}function _(t){var n=e-(t-f);return h?Qn(n,c-(t-l)):n}function g(t){var n=t-f;return f===r||n>=e||n<0||h&&t-l>=c}function m(){var t=Nc();if(g(t))return b(t);s=Ha(m,_(t))}function b(t){return s=r,d&&o?v(t):(o=i=r,u)}function w(){var t=Nc(),n=g(t);if(o=arguments,i=this,f=t,n){if(s===r)return y(f);if(h)return hi(s),s=Ha(m,e),v(f)}return s===r&&(s=Ha(m,e)),u}return e=Lu(e)||0,du(n)&&(p=!!n.leading,c=(h="maxWait"in n)?Xn(Lu(n.maxWait)||0,e):c,d="trailing"in n?!!n.trailing:d),w.cancel=function(){s!==r&&hi(s),l=0,o=f=i=s=r},w.flush=function(){return s===r?u:b(Nc())},w}var qc=Wo(function(t,e){return qr(t,1,e)}),Jc=Wo(function(t,e,n){return qr(t,Lu(e)||0,n)});function Yc(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new ne(a);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Yc.Cache||Sr),n}function Zc(t){if("function"!=typeof t)throw new ne(a);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Yc.Cache=Sr;var Kc=li(function(t,e){var n=(e=1==e.length&&ou(e[0])?Xe(e[0],wn(fa())):Xe(to(e,1),wn(fa()))).length;return Wo(function(r){for(var o=-1,i=Qn(r.length,n);++o<i;)r[o]=e[o].call(this,r[o]);return He(t,this,r)})}),$c=Wo(function(t,e){var n=kn(e,sa($c));return $i(t,w,r,e,n)}),Xc=Wo(function(t,e){var n=kn(e,sa(Xc));return $i(t,P,r,e,n)}),Qc=oa(function(t,e){return $i(t,O,r,r,r,e)});function tu(t,e){return t===e||t!=t&&e!=e}var eu=qi(so),nu=qi(function(t,e){return t>=e}),ru=_o(function(){return arguments}())?_o:function(t){return vu(t)&&ue.call(t,"callee")&&!Se.call(t,"callee")},ou=n.isArray,iu=Fe?wn(Fe):function(t){return vu(t)&&uo(t)==ct};function au(t){return null!=t&&hu(t.length)&&!lu(t)}function cu(t){return vu(t)&&au(t)}var uu=qn||Ls,su=ze?wn(ze):function(t){return vu(t)&&uo(t)==H};function fu(t){if(!vu(t))return!1;var e=uo(t);return e==q||e==V||"string"==typeof t.message&&"string"==typeof t.name&&!gu(t)}function lu(t){if(!du(t))return!1;var e=uo(t);return e==J||e==Y||e==U||e==Q}function pu(t){return"number"==typeof t&&t==Mu(t)}function hu(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=E}function du(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function vu(t){return null!=t&&"object"==typeof t}var yu=Ne?wn(Ne):function(t){return vu(t)&&_a(t)==Z};function _u(t){return"number"==typeof t||vu(t)&&uo(t)==K}function gu(t){if(!vu(t)||uo(t)!=X)return!1;var e=we(t);if(null===e)return!0;var n=ue.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ce.call(n)==pe}var mu=We?wn(We):function(t){return vu(t)&&uo(t)==tt};var bu=Ue?wn(Ue):function(t){return vu(t)&&_a(t)==et};function wu(t){return"string"==typeof t||!ou(t)&&vu(t)&&uo(t)==nt}function Pu(t){return"symbol"==typeof t||vu(t)&&uo(t)==rt}var Ru=Ge?wn(Ge):function(t){return vu(t)&&hu(t.length)&&!!xe[uo(t)]};var Ou=qi(xo),xu=qi(function(t,e){return t<=e});function ju(t){if(!t)return[];if(au(t))return wu(t)?Un(t):Oi(t);if(Ee&&t[Ee])return En(t[Ee]());var e=_a(t);return(e==Z?In:e==et?Dn:ts)(t)}function Su(t){return t?(t=Lu(t))===T||t===-T?(t<0?-1:1)*I:t==t?t:0:0===t?t:0}function Mu(t){var e=Su(t),n=e%1;return e==e?n?e-n:e:0}function Cu(t){return t?Ur(Mu(t),0,k):0}function Lu(t){if("number"==typeof t)return t;if(Pu(t))return B;if(du(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=du(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=bn(t);var n=Ht.test(t);return n||qt.test(t)?Ce(t.slice(2),n?2:8):Gt.test(t)?B:+t}function Au(t){return xi(t,qu(t))}function Tu(t){return null==t?"":ti(t)}var Eu=Ci(function(t,e){if(Ea(e)||au(e))xi(e,Vu(e),t);else for(var n in e)ue.call(e,n)&&Br(t,n,e[n])}),Iu=Ci(function(t,e){xi(e,qu(e),t)}),Bu=Ci(function(t,e,n,r){xi(e,qu(e),t,r)}),ku=Ci(function(t,e,n,r){xi(e,Vu(e),t,r)}),Du=oa(Wr);var Fu=Wo(function(t,e){t=Qt(t);var n=-1,o=e.length,i=o>2?e[2]:r;for(i&&Sa(e[0],e[1],i)&&(o=1);++n<o;)for(var a=e[n],c=qu(a),u=-1,s=c.length;++u<s;){var f=c[u],l=t[f];(l===r||tu(l,ie[f])&&!ue.call(t,f))&&(t[f]=a[f])}return t}),zu=Wo(function(t){return t.push(r,Qi),He(Yu,r,t)});function Nu(t,e,n){var o=null==t?r:ao(t,e);return o===r?n:o}function Wu(t,e){return null!=t&&ba(t,e,lo)}var Uu=Ni(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=le.call(e)),t[e]=n},ds(_s)),Gu=Ni(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=le.call(e)),ue.call(t,e)?t[e].push(n):t[e]=[n]},fa),Hu=Wo(yo);function Vu(t){return au(t)?Lr(t):Ro(t)}function qu(t){return au(t)?Lr(t,!0):Oo(t)}var Ju=Ci(function(t,e,n){Co(t,e,n)}),Yu=Ci(function(t,e,n,r){Co(t,e,n,r)}),Zu=oa(function(t,e){var n={};if(null==t)return n;var r=!1;e=Xe(e,function(e){return e=fi(e,t),r||(r=e.length>1),e}),xi(t,aa(t),n),r&&(n=Gr(n,l|p|h,ta));for(var o=e.length;o--;)ni(n,e[o]);return n});var Ku=oa(function(t,e){return null==t?{}:Eo(t,e)});function $u(t,e){if(null==t)return{};var n=Xe(aa(t),function(t){return[t]});return e=fa(e),Io(t,n,function(t,n){return e(t,n[0])})}var Xu=Ki(Vu),Qu=Ki(qu);function ts(t){return null==t?[]:Pn(t,Vu(t))}var es=Ii(function(t,e,n){return e=e.toLowerCase(),t+(n?ns(e):e)});function ns(t){return fs(Tu(t).toLowerCase())}function rs(t){return(t=Tu(t))&&t.replace(Yt,Sn).replace(ge,"")}var os=Ii(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),is=Ii(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),as=Ei("toLowerCase");var cs=Ii(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var us=Ii(function(t,e,n){return t+(n?" ":"")+fs(e)});var ss=Ii(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),fs=Ei("toUpperCase");function ls(t,e,n){return t=Tu(t),(e=n?r:e)===r?Tn(t)?Jn(t):an(t):t.match(e)||[]}var ps=Wo(function(t,e){try{return He(t,r,e)}catch(t){return fu(t)?t:new Ft(t)}}),hs=oa(function(t,e){return qe(e,function(e){e=Ka(e),Nr(t,e,Gc(t[e],t))}),t});function ds(t){return function(){return t}}var vs=Fi(),ys=Fi(!0);function _s(t){return t}function gs(t){return Po("function"==typeof t?t:Gr(t,l))}var ms=Wo(function(t,e){return function(n){return yo(n,t,e)}}),bs=Wo(function(t,e){return function(n){return yo(t,n,e)}});function ws(t,e,n){var r=Vu(e),o=io(e,r);null!=n||du(e)&&(o.length||!r.length)||(n=e,e=t,t=this,o=io(e,Vu(e)));var i=!(du(n)&&"chain"in n&&!n.chain),a=lu(t);return qe(o,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(i||e){var n=t(this.__wrapped__);return(n.__actions__=Oi(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Qe([this.value()],arguments))})}),t}function Ps(){}var Rs=Ui(Xe),Os=Ui(Ye),xs=Ui(nn);function js(t){return Ma(t)?hn(Ka(t)):Bo(t)}var Ss=Vi(),Ms=Vi(!0);function Cs(){return[]}function Ls(){return!1}var As=Wi(function(t,e){return t+e},0),Ts=Yi("ceil"),Es=Wi(function(t,e){return t/e},1),Is=Yi("floor");var Bs=Wi(function(t,e){return t*e},1),ks=Yi("round"),Ds=Wi(function(t,e){return t-e},0);return br.after=function(t,e){if("function"!=typeof e)throw new ne(a);return t=Mu(t),function(){if(--t<1)return e.apply(this,arguments)}},br.ary=Wc,br.assign=Eu,br.assignIn=Iu,br.assignInWith=Bu,br.assignWith=ku,br.at=Du,br.before=Uc,br.bind=Gc,br.bindAll=hs,br.bindKey=Hc,br.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return ou(t)?t:[t]},br.chain=jc,br.chunk=function(t,e,o){e=(o?Sa(t,e,o):e===r)?1:Xn(Mu(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var a=0,c=0,u=n(dn(i/e));a<i;)u[c++]=Yo(t,a,a+=e);return u},br.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o},br.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],o=t;o--;)e[o-1]=arguments[o];return Qe(ou(r)?Oi(r):[r],to(e,1))},br.cond=function(t){var e=null==t?0:t.length,n=fa();return t=e?Xe(t,function(t){if("function"!=typeof t[1])throw new ne(a);return[n(t[0]),t[1]]}):[],Wo(function(n){for(var r=-1;++r<e;){var o=t[r];if(He(o[0],this,n))return He(o[1],this,n)}})},br.conforms=function(t){return Hr(Gr(t,l))},br.constant=ds,br.countBy=Cc,br.create=function(t,e){var n=wr(t);return null==e?n:Fr(n,e)},br.curry=function t(e,n,o){var i=$i(e,m,r,r,r,r,r,n=o?r:n);return i.placeholder=t.placeholder,i},br.curryRight=function t(e,n,o){var i=$i(e,b,r,r,r,r,r,n=o?r:n);return i.placeholder=t.placeholder,i},br.debounce=Vc,br.defaults=Fu,br.defaultsDeep=zu,br.defer=qc,br.delay=Jc,br.difference=tc,br.differenceBy=ec,br.differenceWith=nc,br.drop=function(t,e,n){var o=null==t?0:t.length;return o?Yo(t,(e=n||e===r?1:Mu(e))<0?0:e,o):[]},br.dropRight=function(t,e,n){var o=null==t?0:t.length;return o?Yo(t,0,(e=o-(e=n||e===r?1:Mu(e)))<0?0:e):[]},br.dropRightWhile=function(t,e){return t&&t.length?oi(t,fa(e,3),!0,!0):[]},br.dropWhile=function(t,e){return t&&t.length?oi(t,fa(e,3),!0):[]},br.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&Sa(t,e,n)&&(n=0,r=o),Xr(t,e,n,r)):[]},br.filter=function(t,e){return(ou(t)?Ze:Qr)(t,fa(e,3))},br.flatMap=function(t,e){return to(Dc(t,e),1)},br.flatMapDeep=function(t,e){return to(Dc(t,e),T)},br.flatMapDepth=function(t,e,n){return n=n===r?1:Mu(n),to(Dc(t,e),n)},br.flatten=ic,br.flattenDeep=function(t){return null!=t&&t.length?to(t,T):[]},br.flattenDepth=function(t,e){return null!=t&&t.length?to(t,e=e===r?1:Mu(e)):[]},br.flip=function(t){return $i(t,x)},br.flow=vs,br.flowRight=ys,br.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var o=t[e];r[o[0]]=o[1]}return r},br.functions=function(t){return null==t?[]:io(t,Vu(t))},br.functionsIn=function(t){return null==t?[]:io(t,qu(t))},br.groupBy=Ic,br.initial=function(t){return null!=t&&t.length?Yo(t,0,-1):[]},br.intersection=cc,br.intersectionBy=uc,br.intersectionWith=sc,br.invert=Uu,br.invertBy=Gu,br.invokeMap=Bc,br.iteratee=gs,br.keyBy=kc,br.keys=Vu,br.keysIn=qu,br.map=Dc,br.mapKeys=function(t,e){var n={};return e=fa(e,3),ro(t,function(t,r,o){Nr(n,e(t,r,o),t)}),n},br.mapValues=function(t,e){var n={};return e=fa(e,3),ro(t,function(t,r,o){Nr(n,r,e(t,r,o))}),n},br.matches=function(t){return So(Gr(t,l))},br.matchesProperty=function(t,e){return Mo(t,Gr(e,l))},br.memoize=Yc,br.merge=Ju,br.mergeWith=Yu,br.method=ms,br.methodOf=bs,br.mixin=ws,br.negate=Zc,br.nthArg=function(t){return t=Mu(t),Wo(function(e){return Ao(e,t)})},br.omit=Zu,br.omitBy=function(t,e){return $u(t,Zc(fa(e)))},br.once=function(t){return Uc(2,t)},br.orderBy=function(t,e,n,o){return null==t?[]:(ou(e)||(e=null==e?[]:[e]),ou(n=o?r:n)||(n=null==n?[]:[n]),To(t,e,n))},br.over=Rs,br.overArgs=Kc,br.overEvery=Os,br.overSome=xs,br.partial=$c,br.partialRight=Xc,br.partition=Fc,br.pick=Ku,br.pickBy=$u,br.property=js,br.propertyOf=function(t){return function(e){return null==t?r:ao(t,e)}},br.pull=lc,br.pullAll=pc,br.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?ko(t,e,fa(n,2)):t},br.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?ko(t,e,r,n):t},br.pullAt=hc,br.range=Ss,br.rangeRight=Ms,br.rearg=Qc,br.reject=function(t,e){return(ou(t)?Ze:Qr)(t,Zc(fa(e,3)))},br.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,o=[],i=t.length;for(e=fa(e,3);++r<i;){var a=t[r];e(a,r,t)&&(n.push(a),o.push(r))}return Do(t,o),n},br.rest=function(t,e){if("function"!=typeof t)throw new ne(a);return Wo(t,e=e===r?e:Mu(e))},br.reverse=dc,br.sampleSize=function(t,e,n){return e=(n?Sa(t,e,n):e===r)?1:Mu(e),(ou(t)?Tr:Go)(t,e)},br.set=function(t,e,n){return null==t?t:Ho(t,e,n)},br.setWith=function(t,e,n,o){return o="function"==typeof o?o:r,null==t?t:Ho(t,e,n,o)},br.shuffle=function(t){return(ou(t)?Er:Jo)(t)},br.slice=function(t,e,n){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&Sa(t,e,n)?(e=0,n=o):(e=null==e?0:Mu(e),n=n===r?o:Mu(n)),Yo(t,e,n)):[]},br.sortBy=zc,br.sortedUniq=function(t){return t&&t.length?Xo(t):[]},br.sortedUniqBy=function(t,e){return t&&t.length?Xo(t,fa(e,2)):[]},br.split=function(t,e,n){return n&&"number"!=typeof n&&Sa(t,e,n)&&(e=n=r),(n=n===r?k:n>>>0)?(t=Tu(t))&&("string"==typeof e||null!=e&&!mu(e))&&!(e=ti(e))&&An(t)?pi(Un(t),0,n):t.split(e,n):[]},br.spread=function(t,e){if("function"!=typeof t)throw new ne(a);return e=null==e?0:Xn(Mu(e),0),Wo(function(n){var r=n[e],o=pi(n,0,e);return r&&Qe(o,r),He(t,this,o)})},br.tail=function(t){var e=null==t?0:t.length;return e?Yo(t,1,e):[]},br.take=function(t,e,n){return t&&t.length?Yo(t,0,(e=n||e===r?1:Mu(e))<0?0:e):[]},br.takeRight=function(t,e,n){var o=null==t?0:t.length;return o?Yo(t,(e=o-(e=n||e===r?1:Mu(e)))<0?0:e,o):[]},br.takeRightWhile=function(t,e){return t&&t.length?oi(t,fa(e,3),!1,!0):[]},br.takeWhile=function(t,e){return t&&t.length?oi(t,fa(e,3)):[]},br.tap=function(t,e){return e(t),t},br.throttle=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new ne(a);return du(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Vc(t,e,{leading:r,maxWait:e,trailing:o})},br.thru=Sc,br.toArray=ju,br.toPairs=Xu,br.toPairsIn=Qu,br.toPath=function(t){return ou(t)?Xe(t,Ka):Pu(t)?[t]:Oi(Za(Tu(t)))},br.toPlainObject=Au,br.transform=function(t,e,n){var r=ou(t),o=r||uu(t)||Ru(t);if(e=fa(e,4),null==n){var i=t&&t.constructor;n=o?r?new i:[]:du(t)&&lu(i)?wr(we(t)):{}}return(o?qe:ro)(t,function(t,r,o){return e(n,t,r,o)}),n},br.unary=function(t){return Wc(t,1)},br.union=vc,br.unionBy=yc,br.unionWith=_c,br.uniq=function(t){return t&&t.length?ei(t):[]},br.uniqBy=function(t,e){return t&&t.length?ei(t,fa(e,2)):[]},br.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?ei(t,r,e):[]},br.unset=function(t,e){return null==t||ni(t,e)},br.unzip=gc,br.unzipWith=mc,br.update=function(t,e,n){return null==t?t:ri(t,e,si(n))},br.updateWith=function(t,e,n,o){return o="function"==typeof o?o:r,null==t?t:ri(t,e,si(n),o)},br.values=ts,br.valuesIn=function(t){return null==t?[]:Pn(t,qu(t))},br.without=bc,br.words=ls,br.wrap=function(t,e){return $c(si(e),t)},br.xor=wc,br.xorBy=Pc,br.xorWith=Rc,br.zip=Oc,br.zipObject=function(t,e){return ci(t||[],e||[],Br)},br.zipObjectDeep=function(t,e){return ci(t||[],e||[],Ho)},br.zipWith=xc,br.entries=Xu,br.entriesIn=Qu,br.extend=Iu,br.extendWith=Bu,ws(br,br),br.add=As,br.attempt=ps,br.camelCase=es,br.capitalize=ns,br.ceil=Ts,br.clamp=function(t,e,n){return n===r&&(n=e,e=r),n!==r&&(n=(n=Lu(n))==n?n:0),e!==r&&(e=(e=Lu(e))==e?e:0),Ur(Lu(t),e,n)},br.clone=function(t){return Gr(t,h)},br.cloneDeep=function(t){return Gr(t,l|h)},br.cloneDeepWith=function(t,e){return Gr(t,l|h,e="function"==typeof e?e:r)},br.cloneWith=function(t,e){return Gr(t,h,e="function"==typeof e?e:r)},br.conformsTo=function(t,e){return null==e||Vr(t,e,Vu(e))},br.deburr=rs,br.defaultTo=function(t,e){return null==t||t!=t?e:t},br.divide=Es,br.endsWith=function(t,e,n){t=Tu(t),e=ti(e);var o=t.length,i=n=n===r?o:Ur(Mu(n),0,o);return(n-=e.length)>=0&&t.slice(n,i)==e},br.eq=tu,br.escape=function(t){return(t=Tu(t))&&Ot.test(t)?t.replace(Pt,Mn):t},br.escapeRegExp=function(t){return(t=Tu(t))&&Tt.test(t)?t.replace(At,"\\$&"):t},br.every=function(t,e,n){var o=ou(t)?Ye:Kr;return n&&Sa(t,e,n)&&(e=r),o(t,fa(e,3))},br.find=Lc,br.findIndex=rc,br.findKey=function(t,e){return cn(t,fa(e,3),ro)},br.findLast=Ac,br.findLastIndex=oc,br.findLastKey=function(t,e){return cn(t,fa(e,3),oo)},br.floor=Is,br.forEach=Tc,br.forEachRight=Ec,br.forIn=function(t,e){return null==t?t:eo(t,fa(e,3),qu)},br.forInRight=function(t,e){return null==t?t:no(t,fa(e,3),qu)},br.forOwn=function(t,e){return t&&ro(t,fa(e,3))},br.forOwnRight=function(t,e){return t&&oo(t,fa(e,3))},br.get=Nu,br.gt=eu,br.gte=nu,br.has=function(t,e){return null!=t&&ba(t,e,fo)},br.hasIn=Wu,br.head=ac,br.identity=_s,br.includes=function(t,e,n,r){t=au(t)?t:ts(t),n=n&&!r?Mu(n):0;var o=t.length;return n<0&&(n=Xn(o+n,0)),wu(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&sn(t,e,n)>-1},br.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:Mu(n);return o<0&&(o=Xn(r+o,0)),sn(t,e,o)},br.inRange=function(t,e,n){return e=Su(e),n===r?(n=e,e=0):n=Su(n),po(t=Lu(t),e,n)},br.invoke=Hu,br.isArguments=ru,br.isArray=ou,br.isArrayBuffer=iu,br.isArrayLike=au,br.isArrayLikeObject=cu,br.isBoolean=function(t){return!0===t||!1===t||vu(t)&&uo(t)==G},br.isBuffer=uu,br.isDate=su,br.isElement=function(t){return vu(t)&&1===t.nodeType&&!gu(t)},br.isEmpty=function(t){if(null==t)return!0;if(au(t)&&(ou(t)||"string"==typeof t||"function"==typeof t.splice||uu(t)||Ru(t)||ru(t)))return!t.length;var e=_a(t);if(e==Z||e==et)return!t.size;if(Ea(t))return!Ro(t).length;for(var n in t)if(ue.call(t,n))return!1;return!0},br.isEqual=function(t,e){return go(t,e)},br.isEqualWith=function(t,e,n){var o=(n="function"==typeof n?n:r)?n(t,e):r;return o===r?go(t,e,r,n):!!o},br.isError=fu,br.isFinite=function(t){return"number"==typeof t&&Zn(t)},br.isFunction=lu,br.isInteger=pu,br.isLength=hu,br.isMap=yu,br.isMatch=function(t,e){return t===e||bo(t,e,pa(e))},br.isMatchWith=function(t,e,n){return n="function"==typeof n?n:r,bo(t,e,pa(e),n)},br.isNaN=function(t){return _u(t)&&t!=+t},br.isNative=function(t){if(Ta(t))throw new Ft(i);return wo(t)},br.isNil=function(t){return null==t},br.isNull=function(t){return null===t},br.isNumber=_u,br.isObject=du,br.isObjectLike=vu,br.isPlainObject=gu,br.isRegExp=mu,br.isSafeInteger=function(t){return pu(t)&&t>=-E&&t<=E},br.isSet=bu,br.isString=wu,br.isSymbol=Pu,br.isTypedArray=Ru,br.isUndefined=function(t){return t===r},br.isWeakMap=function(t){return vu(t)&&_a(t)==it},br.isWeakSet=function(t){return vu(t)&&uo(t)==at},br.join=function(t,e){return null==t?"":Kn.call(t,e)},br.kebabCase=os,br.last=fc,br.lastIndexOf=function(t,e,n){var o=null==t?0:t.length;if(!o)return-1;var i=o;return n!==r&&(i=(i=Mu(n))<0?Xn(o+i,0):Qn(i,o-1)),e==e?Nn(t,e,i):un(t,ln,i,!0)},br.lowerCase=is,br.lowerFirst=as,br.lt=Ou,br.lte=xu,br.max=function(t){return t&&t.length?$r(t,_s,so):r},br.maxBy=function(t,e){return t&&t.length?$r(t,fa(e,2),so):r},br.mean=function(t){return pn(t,_s)},br.meanBy=function(t,e){return pn(t,fa(e,2))},br.min=function(t){return t&&t.length?$r(t,_s,xo):r},br.minBy=function(t,e){return t&&t.length?$r(t,fa(e,2),xo):r},br.stubArray=Cs,br.stubFalse=Ls,br.stubObject=function(){return{}},br.stubString=function(){return""},br.stubTrue=function(){return!0},br.multiply=Bs,br.nth=function(t,e){return t&&t.length?Ao(t,Mu(e)):r},br.noConflict=function(){return Te._===this&&(Te._=he),this},br.noop=Ps,br.now=Nc,br.pad=function(t,e,n){t=Tu(t);var r=(e=Mu(e))?Wn(t):0;if(!e||r>=e)return t;var o=(e-r)/2;return Gi(zn(o),n)+t+Gi(dn(o),n)},br.padEnd=function(t,e,n){t=Tu(t);var r=(e=Mu(e))?Wn(t):0;return e&&r<e?t+Gi(e-r,n):t},br.padStart=function(t,e,n){t=Tu(t);var r=(e=Mu(e))?Wn(t):0;return e&&r<e?Gi(e-r,n)+t:t},br.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),er(Tu(t).replace(Et,""),e||0)},br.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Sa(t,e,n)&&(e=n=r),n===r&&("boolean"==typeof e?(n=e,e=r):"boolean"==typeof t&&(n=t,t=r)),t===r&&e===r?(t=0,e=1):(t=Su(t),e===r?(e=t,t=0):e=Su(e)),t>e){var o=t;t=e,e=o}if(n||t%1||e%1){var i=nr();return Qn(t+i*(e-t+Me("1e-"+((i+"").length-1))),e)}return Fo(t,e)},br.reduce=function(t,e,n){var r=ou(t)?tn:vn,o=arguments.length<3;return r(t,fa(e,4),n,o,Yr)},br.reduceRight=function(t,e,n){var r=ou(t)?en:vn,o=arguments.length<3;return r(t,fa(e,4),n,o,Zr)},br.repeat=function(t,e,n){return e=(n?Sa(t,e,n):e===r)?1:Mu(e),No(Tu(t),e)},br.replace=function(){var t=arguments,e=Tu(t[0]);return t.length<3?e:e.replace(t[1],t[2])},br.result=function(t,e,n){var o=-1,i=(e=fi(e,t)).length;for(i||(i=1,t=r);++o<i;){var a=null==t?r:t[Ka(e[o])];a===r&&(o=i,a=n),t=lu(a)?a.call(t):a}return t},br.round=ks,br.runInContext=t,br.sample=function(t){return(ou(t)?Ar:Uo)(t)},br.size=function(t){if(null==t)return 0;if(au(t))return wu(t)?Wn(t):t.length;var e=_a(t);return e==Z||e==et?t.size:Ro(t).length},br.snakeCase=cs,br.some=function(t,e,n){var o=ou(t)?nn:Zo;return n&&Sa(t,e,n)&&(e=r),o(t,fa(e,3))},br.sortedIndex=function(t,e){return Ko(t,e)},br.sortedIndexBy=function(t,e,n){return $o(t,e,fa(n,2))},br.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Ko(t,e);if(r<n&&tu(t[r],e))return r}return-1},br.sortedLastIndex=function(t,e){return Ko(t,e,!0)},br.sortedLastIndexBy=function(t,e,n){return $o(t,e,fa(n,2),!0)},br.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Ko(t,e,!0)-1;if(tu(t[n],e))return n}return-1},br.startCase=us,br.startsWith=function(t,e,n){return t=Tu(t),n=null==n?0:Ur(Mu(n),0,t.length),e=ti(e),t.slice(n,n+e.length)==e},br.subtract=Ds,br.sum=function(t){return t&&t.length?_n(t,_s):0},br.sumBy=function(t,e){return t&&t.length?_n(t,fa(e,2)):0},br.template=function(t,e,n){var o=br.templateSettings;n&&Sa(t,e,n)&&(e=r),t=Tu(t),e=Bu({},e,o,Xi);var i,a,u=Bu({},e.imports,o.imports,Xi),s=Vu(u),f=Pn(u,s),l=0,p=e.interpolate||Zt,h="__p += '",d=te((e.escape||Zt).source+"|"+p.source+"|"+(p===St?Wt:Zt).source+"|"+(e.evaluate||Zt).source+"|$","g"),v="//# sourceURL="+(ue.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Oe+"]")+"\n";t.replace(d,function(e,n,r,o,c,u){return r||(r=o),h+=t.slice(l,u).replace(Kt,Cn),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),c&&(a=!0,h+="';\n"+c+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+e.length,e}),h+="';\n";var y=ue.call(e,"variable")&&e.variable;if(y){if(zt.test(y))throw new Ft(c)}else h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace(gt,""):h).replace(mt,"$1").replace(bt,"$1;"),h="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var _=ps(function(){return $t(s,v+"return "+h).apply(r,f)});if(_.source=h,fu(_))throw _;return _},br.times=function(t,e){if((t=Mu(t))<1||t>E)return[];var n=k,r=Qn(t,k);e=fa(e),t-=k;for(var o=gn(r,e);++n<t;)e(n);return o},br.toFinite=Su,br.toInteger=Mu,br.toLength=Cu,br.toLower=function(t){return Tu(t).toLowerCase()},br.toNumber=Lu,br.toSafeInteger=function(t){return t?Ur(Mu(t),-E,E):0===t?t:0},br.toString=Tu,br.toUpper=function(t){return Tu(t).toUpperCase()},br.trim=function(t,e,n){if((t=Tu(t))&&(n||e===r))return bn(t);if(!t||!(e=ti(e)))return t;var o=Un(t),i=Un(e);return pi(o,On(o,i),xn(o,i)+1).join("")},br.trimEnd=function(t,e,n){if((t=Tu(t))&&(n||e===r))return t.slice(0,Gn(t)+1);if(!t||!(e=ti(e)))return t;var o=Un(t);return pi(o,0,xn(o,Un(e))+1).join("")},br.trimStart=function(t,e,n){if((t=Tu(t))&&(n||e===r))return t.replace(Et,"");if(!t||!(e=ti(e)))return t;var o=Un(t);return pi(o,On(o,Un(e))).join("")},br.truncate=function(t,e){var n=j,o=S;if(du(e)){var i="separator"in e?e.separator:i;n="length"in e?Mu(e.length):n,o="omission"in e?ti(e.omission):o}var a=(t=Tu(t)).length;if(An(t)){var c=Un(t);a=c.length}if(n>=a)return t;var u=n-Wn(o);if(u<1)return o;var s=c?pi(c,0,u).join(""):t.slice(0,u);if(i===r)return s+o;if(c&&(u+=s.length-u),mu(i)){if(t.slice(u).search(i)){var f,l=s;for(i.global||(i=te(i.source,Tu(Ut.exec(i))+"g")),i.lastIndex=0;f=i.exec(l);)var p=f.index;s=s.slice(0,p===r?u:p)}}else if(t.indexOf(ti(i),u)!=u){var h=s.lastIndexOf(i);h>-1&&(s=s.slice(0,h))}return s+o},br.unescape=function(t){return(t=Tu(t))&&Rt.test(t)?t.replace(wt,Hn):t},br.uniqueId=function(t){var e=++se;return Tu(t)+e},br.upperCase=ss,br.upperFirst=fs,br.each=Tc,br.eachRight=Ec,br.first=ac,ws(br,function(){var t={};return ro(br,function(e,n){ue.call(br.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),br.VERSION="4.17.21",qe(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){br[t].placeholder=br}),qe(["drop","take"],function(t,e){Or.prototype[t]=function(n){n=n===r?1:Xn(Mu(n),0);var o=this.__filtered__&&!e?new Or(this):this.clone();return o.__filtered__?o.__takeCount__=Qn(n,o.__takeCount__):o.__views__.push({size:Qn(n,k),type:t+(o.__dir__<0?"Right":"")}),o},Or.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),qe(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==L||3==n;Or.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:fa(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),qe(["head","last"],function(t,e){var n="take"+(e?"Right":"");Or.prototype[t]=function(){return this[n](1).value()[0]}}),qe(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");Or.prototype[t]=function(){return this.__filtered__?new Or(this):this[n](1)}}),Or.prototype.compact=function(){return this.filter(_s)},Or.prototype.find=function(t){return this.filter(t).head()},Or.prototype.findLast=function(t){return this.reverse().find(t)},Or.prototype.invokeMap=Wo(function(t,e){return"function"==typeof t?new Or(this):this.map(function(n){return yo(n,t,e)})}),Or.prototype.reject=function(t){return this.filter(Zc(fa(t)))},Or.prototype.slice=function(t,e){t=Mu(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Or(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==r&&(n=(e=Mu(e))<0?n.dropRight(-e):n.take(e-t)),n)},Or.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Or.prototype.toArray=function(){return this.take(k)},ro(Or.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),o=/^(?:head|last)$/.test(e),i=br[o?"take"+("last"==e?"Right":""):e],a=o||/^find/.test(e);i&&(br.prototype[e]=function(){var e=this.__wrapped__,c=o?[1]:arguments,u=e instanceof Or,s=c[0],f=u||ou(e),l=function(t){var e=i.apply(br,Qe([t],c));return o&&p?e[0]:e};f&&n&&"function"==typeof s&&1!=s.length&&(u=f=!1);var p=this.__chain__,h=!!this.__actions__.length,d=a&&!p,v=u&&!h;if(!a&&f){e=v?e:new Or(this);var y=t.apply(e,c);return y.__actions__.push({func:Sc,args:[l],thisArg:r}),new Rr(y,p)}return d&&v?t.apply(this,c):(y=this.thru(l),d?o?y.value()[0]:y.value():y)})}),qe(["pop","push","shift","sort","splice","unshift"],function(t){var e=re[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);br.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var o=this.value();return e.apply(ou(o)?o:[],t)}return this[n](function(n){return e.apply(ou(n)?n:[],t)})}}),ro(Or.prototype,function(t,e){var n=br[e];if(n){var r=n.name+"";ue.call(lr,r)||(lr[r]=[]),lr[r].push({name:e,func:n})}}),lr[zi(r,_).name]=[{name:"wrapper",func:r}],Or.prototype.clone=function(){var t=new Or(this.__wrapped__);return t.__actions__=Oi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Oi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Oi(this.__views__),t},Or.prototype.reverse=function(){if(this.__filtered__){var t=new Or(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Or.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=ou(t),r=e<0,o=n?t.length:0,i=ga(0,o,this.__views__),a=i.start,c=i.end,u=c-a,s=r?c:a-1,f=this.__iteratees__,l=f.length,p=0,h=Qn(u,this.__takeCount__);if(!n||!r&&o==u&&h==u)return ii(t,this.__actions__);var d=[];t:for(;u--&&p<h;){for(var v=-1,y=t[s+=e];++v<l;){var _=f[v],g=_.iteratee,m=_.type,b=g(y);if(m==A)y=b;else if(!b){if(m==L)continue t;break t}}d[p++]=y}return d},br.prototype.at=Mc,br.prototype.chain=function(){return jc(this)},br.prototype.commit=function(){return new Rr(this.value(),this.__chain__)},br.prototype.next=function(){this.__values__===r&&(this.__values__=ju(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?r:this.__values__[this.__index__++]}},br.prototype.plant=function(t){for(var e,n=this;n instanceof Pr;){var o=Qa(n);o.__index__=0,o.__values__=r,e?i.__wrapped__=o:e=o;var i=o;n=n.__wrapped__}return i.__wrapped__=t,e},br.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Or){var e=t;return this.__actions__.length&&(e=new Or(this)),(e=e.reverse()).__actions__.push({func:Sc,args:[dc],thisArg:r}),new Rr(e,this.__chain__)}return this.thru(dc)},br.prototype.toJSON=br.prototype.valueOf=br.prototype.value=function(){return ii(this.__wrapped__,this.__actions__)},br.prototype.first=br.prototype.head,Ee&&(br.prototype[Ee]=function(){return this}),br}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Te._=Yn,define(function(){return Yn})):Ie?((Ie.exports=Yn)._=Yn,Ee._=Yn):Te._=Yn}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],Dragable:[function(t,e,n){"use strict";cc._RF.push(e,"527cfgYjRBNL4vFuZLUjrpS","Dragable");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e}return r(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_MOVE,this._onTouchMove,this),cc.log("onload")},e.prototype._onTouchMove=function(t){var e=t.getDelta(),n=this.target||this.node,r=n.position.x+e.x,o=n.position.y+e.y,i=cc.winSize.width,a=cc.winSize.height,c=n.width/2,u=n.height/2,s=cc.misc.clampf(r,-i/2+c,i/2-c),f=cc.misc.clampf(o,-a/2+u,a/2-u);n.position=new cc.Vec3(s,f,n.position.z||0)},o([c(cc.Node)],e.prototype,"target",void 0),e=o([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],DropItemBullet:[function(t,e,n){"use strict";cc._RF.push(e,"849c9dZfipD07vxDj80A1UD","DropItemBullet");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./DropItem"),a=cc._decorator.ccclass,c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){this.node.getComponents("Weapon").forEach(function(t){return t.enabled=!1})},e.prototype.onCollisionEnter=function(t){var e=this;t.itemTag!==this.tag?(t.node.getComponents("Weapon").forEach(function(e){return t.node.removeComponent(e)}),this.node.getComponents("Weapon").forEach(function(n){var r=t.node.addComponent(n.__classname__);n.assignParam(r),t.itemTag=e.tag}),this.node.destroy()):this.node.destroy()},e=o([a],e)}(i.default);n.default=c,cc._RF.pop()},{"./DropItem":"DropItem"}],DropItemHPProp:[function(t,e,n){"use strict";cc._RF.push(e,"f9ca79wIfpFdZcLnZft3yz3","DropItemHPProp");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./DropItemProp"),a=t("./ItemConst"),c=cc._decorator,u=c.ccclass,s=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.setItemType(a.ItemType.HP)},e=o([u],e)}(i.default));n.default=s,cc._RF.pop()},{"./DropItemProp":"DropItemProp","./ItemConst":"ItemConst"}],DropItemPropStrategy:[function(t,e,n){"use strict";cc._RF.push(e,"73bfaXpbKhEJ728uA7EOdli","DropItemPropStrategy");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=t("../timer/TimerManager"),i=function(){function t(){}return t.prototype.emitEvent=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];(e=cc.game).emit.apply(e,[t].concat(n))},t}();n.PropStrategy=i;var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._config={duration:3,shieldValue:100},e}return r(e,t),e.prototype.getConfig=function(){return{duration:this._config.duration}},e.prototype.apply=function(t){var e=this;this.applyEffect(t,"shield",this._config.duration,function(){t.isInvincible=!0,e.emitEvent("shield-activate",t.node,e._config.duration)},function(){t.isInvincible=!1,e.emitEvent("shield-deactivate",t.node)})},e}(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.applyEffect=function(t,e,n,r,i){var a=this;if(this.clearEffect(t,e),!t||!t.node||t.node.isValid){r();var c=o.TimerManager.instance.addTimer(function(){if(t&&t.node&&!t.node.isValid)o.TimerManager.instance.removeTimer(c);else try{i()}finally{a.clearEffect(t,e)}},1e3*n);t.activeEffects.set(e,c)}},e.prototype.clearEffect=function(t,e){if(t&&t.activeEffects&&t.activeEffects.has(e)){var n=t.activeEffects.get(e);o.TimerManager.instance.removeTimer(n),t.activeEffects.delete(e)}},e}(i));n.ShieldStrategy=a;var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._config={healAmount:50},e}return r(e,t),e.prototype.getConfig=function(){return{value:this._config.healAmount}},e.prototype.apply=function(t){var e=t.hp;t.hp=Math.min(t.hp+this._config.healAmount,t.getMaxHP()),this.emitEvent("hp-update",t.node,e,t.hp)},e}(i);n.HealStrategy=c,cc._RF.pop()},{"../timer/TimerManager":"TimerManager"}],DropItemProp:[function(t,e,n){"use strict";cc._RF.push(e,"20543/N3l1M8KBJtBSx9rGW","DropItemProp");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./PropStrategyManager"),a=cc._decorator,c=a.ccclass,u=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._itemType=null,e}return r(e,t),e.prototype.onLoad=function(){this.itemBg=this.node.getChildByName("item_bg"),this.itemIcon=this.node.getChildByName("itemIcon"),this.itemBg1=this.node.getChildByName("item_bg1")},e.prototype.onCollisionEnter=function(t){console.log("itemType",this._itemType);var e=i.PropStrategyManager.instance.getStrategy(this._itemType);if(e){var n=t.node.getComponent("PlayerPlane");e.apply(n)}this.node.destroy()},e.prototype.setItemType=function(t){this._itemType=t},e.prototype.getItemType=function(){return this._itemType},e.prototype.update=function(t){this.itemBg1.angle=-(-this.itemBg1.angle-72*t)%360,this.itemBg.angle=-(-this.itemBg.angle+120*t+360)%360},e=o([c],e)}(cc.Component));n.default=u,cc._RF.pop()},{"./PropStrategyManager":"PropStrategyManager"}],DropItemShieldProp:[function(t,e,n){"use strict";cc._RF.push(e,"3684brL5itER4XpIIbE3o2d","DropItemShieldProp");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./DropItemProp"),a=t("./ItemConst"),c=cc._decorator,u=c.ccclass,s=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.setItemType(a.ItemType.Shield)},e=o([u],e)}(i.default));n.default=s,cc._RF.pop()},{"./DropItemProp":"DropItemProp","./ItemConst":"ItemConst"}],DropItem:[function(t,e,n){"use strict";cc._RF.push(e,"0364ePsieVE7KYpMgqRwhgI","DropItem");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.count=1,e.tag=0,e.isOverlap=!0,e}return r(e,t),e.prototype.onCollisionEnter=function(t){this.node.destroy()},o([c],e.prototype,"count",void 0),o([c],e.prototype,"tag",void 0),o([c],e.prototype,"isOverlap",void 0),e=o([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],EnemyPlane:[function(t,e,n){"use strict";cc._RF.push(e,"155f6Lll3NNKaBdr8Fhcj5H","EnemyPlane");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./Plane"),a=t("../../scripts/components/UpdateRotation"),c=cc._decorator,u=c.ccclass,s=c.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dropItems=[],e.dropRates=[],e}return r(e,t),e.prototype.onLoad=function(){this.node.addComponent(a.default).offsetRotation=180},e.prototype.onCollisionEnter=function(t){if("player"===t.node.group)this.takeDamage(2),this.hp>0&&this._progressBar.node.runAction(cc.fadeOut(1));else{this._progressBar.node.opacity=255;var e=t.getComponent("Bullet");this.takeDamage(e.getDamageValue()),this.hp>0&&this._progressBar.node.runAction(cc.fadeOut(1))}},e.prototype._playDestroy=function(){if(cc.game.emit("enemy-plane-destroy",this),this.dropItems.length){for(var e=Math.random(),n=0,r=!1,o=0;o<this.dropItems.length;o++)if(e<=(n+=this.dropRates[o]||0)&&e>n-this.dropRates[o]){var i=cc.instantiate(this.dropItems[o]);i.parent=this.node.parent,i.position=this.node.position;var a=cc.v2(i.x+(Math.random()>.5?-50:50),i.y),c=[cc.v2(i.x,i.y+100),cc.v2(a.x,a.y+100),a],u=cc.bezierTo(.4,c).easing(cc.easeSineOut()),s=-cc.winSize.height/2-a.y,f=Math.abs(s/(60+40*Math.random())),l=cc.moveTo(f,cc.v2(a.x,s)).easing(cc.easeSineOut()),p=cc.removeSelf();i.runAction(cc.sequence(u,l,p)),r=!0;break}r||console.log("\u6389\u843d\u672a\u547d\u4e2d")}t.prototype._playDestroy.call(this)},o([s([cc.Prefab])],e.prototype,"dropItems",void 0),o([s({type:[cc.Float],tooltip:"\u5bf9\u5e94\u7269\u54c1\u7684\u6389\u843d\u6982\u7387 (0-1)",range:[0,1],slide:!0})],e.prototype,"dropRates",void 0),e=o([u],e)}(i.default);n.default=f,cc._RF.pop()},{"../../scripts/components/UpdateRotation":"UpdateRotation","./Plane":"Plane"}],EventManager:[function(t,e,n){"use strict";cc._RF.push(e,"42499iu0ZRIbajNWv9TkjHd","EventManager"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.on=function(t,e,n){var r=this.events;r.has(t)?r.get(t).push({callback:e,target:n}):r.set(t,[{callback:e,target:n}])},t.once=function(t,e,n){var r=this.onceEvents;r.has(t)?r.get(t).push({callback:e,target:n}):r.set(t,[{callback:e,target:n}])},t.off=function(t,e,n){var r=this.events.get(t);if(r)for(var o=0,i=r.length;o<i;o++)if(this.compare(r[o],e,n)){r.splice(o,1),0===r.length&&this.events.delete(t);break}var a=this.onceEvents.get(t);if(a)for(o=0,i=a.length;o<i;o++)if(this.compare(a[o],e,n)){a.splice(o,1),0===a.length&&this.onceEvents.delete(t);break}},t.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=this.events.get(t);if(r)for(var o=0;o<r.length;o++){var i=r[o],a=i.callback,c=i.target;a.apply(c,e)}var u=this.onceEvents.get(t);if(u){for(o=0;o<u.length;o++){var s=u[o];a=s.callback,c=s.target;a.apply(c,e)}this.onceEvents.delete(t)}},t.remove=function(t){this.events.has(t)&&this.events.delete(t),this.onceEvents.has(t)&&this.onceEvents.delete(t)},t.removeAll=function(){this.events.clear(),this.onceEvents.clear()},t.compare=function(t,e,n){var r=t.callback;return t.target===n&&(r===e||r.toString()===e.toString())},t.events=new Map,t.onceEvents=new Map,t}();n.default=r,cc._RF.pop()},{}],FanWeapon:[function(t,e,n){"use strict";cc._RF.push(e,"3d681NXKXRMp4L9k3z4NVxK","FanWeapon");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=t("lodash"),a=t("./Weapon"),c=cc._decorator.ccclass,u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._fire=function(){var t=this;if(this.plane){var e=-this.rotation*(this.count-1)/2;i.forEach(i.range(0,this.count),function(n){var r=t._createBullet();if(r&&r.node){var o=e+n*t.rotation;r.node.angle=-o,r.node.zIndex=Math.abs(r.node.angle),r.run(t.plane,t)}})}else cc.log("\u8bf7\u8bbe\u7f6e\u6b66\u5668\u7684plane\u5c5e\u6027")},e=o([c],e)}(a.default);n.default=u,cc._RF.pop()},{"./Weapon":"Weapon",lodash:3}],FormationEditor:[function(t,e,n){"use strict";cc._RF.push(e,"f5b71yopJ9Mw5i51zKLmY2l","FormationEditor");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.normalColor=new cc.Color(100,100,100,255),e.selectedColor=new cc.Color(0,255,0,255),e.rows=4,e.cols=7,e.cellSize=102,e.resetButton=null,e.exportButton=null,e.assetJson=null,e.waveId=1,e.loadButton=null,e.cells=[],e.selectedIndexes=new Set,e}return r(e,t),e.prototype._initLoadButton=function(){var t=this;this.loadButton&&this.loadButton.node.on("click",function(){return t.loadPath()},this)},e.prototype.onLoad=function(){this._initGrid(),this._initButtons(),this._initLoadButton()},e.prototype._initGrid=function(){for(var t=this,e=-this.cols*this.cellSize/2+this.cellSize/2,n=cc.winSize.height/2-1.5*this.cellSize,r=1,o=0;o<this.rows;o++)for(var i=function(i){var c=new cc.Node;c.width=a.cellSize,c.height=a.cellSize;var u=c.addComponent(cc.Sprite),s=new cc.Texture2D,f=a.normalColor,l=new Uint8Array([f.getR(),f.getG(),f.getB(),255]);s.initWithData(l,cc.Texture2D.PixelFormat.RGBA8888,1,1),u.spriteFrame=new cc.SpriteFrame(s),u.sizeMode=cc.Sprite.SizeMode.CUSTOM,c.setContentSize(a.cellSize,a.cellSize),c.color=f,c.x=e+i*a.cellSize,c.y=n-o*a.cellSize,a.node.addChild(c);var p=new cc.Node,h=p.addComponent(cc.Label);h.string=r.toString(),h.fontSize=30,p.parent=c;var d=r;c.on(cc.Node.EventType.TOUCH_START,function(){t._onCellClick(d,u)},a),a.cells.push(c),r++},a=this,c=0;c<this.cols;c++)i(c)},e.prototype._onCellClick=function(t,e){this.selectedIndexes.has(t)?(this.selectedIndexes.delete(t),this._updateSpriteColor(e,this.normalColor)):(this.selectedIndexes.add(t),this._updateSpriteColor(e,this.selectedColor))},e.prototype._updateSpriteColor=function(t,e){t.spriteFrame.setTexture(null);var n=new cc.Texture2D,r=new Uint8Array(4);r[0]=e.r,r[1]=e.g,r[2]=e.b,r[3]=255,n.initWithData(r,cc.Texture2D.PixelFormat.RGBA8888,1,1),t.spriteFrame.setTexture(n),t.node.setContentSize(this.cellSize,this.cellSize),t.node.color=e},e.prototype._onReset=function(){var t=this;this.selectedIndexes.clear(),this.cells.forEach(function(e){var n=e.getComponent(cc.Sprite);n&&t._updateSpriteColor(n,t.normalColor)})},e.prototype._onExport=function(){var t={id:1,col:this.cols,row:this.rows,indexs:Array.from(this.selectedIndexes).sort(function(t,e){return t-e})};console.log(JSON.stringify(t,null,2))},e.prototype._initButtons=function(){this.resetButton&&this.resetButton.node.on("click",this._onReset,this),this.exportButton&&this.exportButton.node.on("click",this._onExport,this)},e.prototype.loadPath=function(){var t=this;if(this.assetJson&&this.assetJson.json&&this.assetJson.json[this.waveId]){var e=this.assetJson.json[this.waveId];"spawn"===e.type&&(this._onReset(),e.indexs.forEach(function(e){if(e>0&&e<=t.cells.length){var n=t.cells[e-1].getComponent(cc.Sprite);n&&(t.selectedIndexes.add(e),t._updateSpriteColor(n,t.selectedColor))}}))}else cc.warn("\u627e\u4e0d\u5230\u8def\u5f84ID: "+this.waveId)},o([c(cc.Color)],e.prototype,"normalColor",void 0),o([c(cc.Color)],e.prototype,"selectedColor",void 0),o([c],e.prototype,"rows",void 0),o([c],e.prototype,"cols",void 0),o([c],e.prototype,"cellSize",void 0),o([c(cc.Button)],e.prototype,"resetButton",void 0),o([c(cc.Button)],e.prototype,"exportButton",void 0),o([c(cc.JsonAsset)],e.prototype,"assetJson",void 0),o([c],e.prototype,"waveId",void 0),o([c(cc.Button)],e.prototype,"loadButton",void 0),e=o([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],GameGlobal:[function(t,e,n){"use strict";cc._RF.push(e,"c3141yVo+dFC5dhUgI/ccIc","GameGlobal"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../game/Game");console.log("\u6e38\u620f\u521d\u59cb\u5316"),window.App=new r.default,App.init(),cc._RF.pop()},{"../game/Game":"Game"}],GamePlayerData:[function(t,e,n){"use strict";cc._RF.push(e,"998deZ0lC5O3a7HOxDnmhKy","GamePlayerData");var r,o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a,c=t("../../framework/utils/Singleton"),u=cc._decorator,s=u.ccclass;u.property;(function(t){t[t.money=0]="money",t[t.chapter=1]="chapter",t[t.round=2]="round",t[t.roundData=3]="roundData"})(a=n.PLAYER_DATE_TYPE||(n.PLAYER_DATE_TYPE={})),n.PlayerDataNames=((r={})[a.money]="_money",r[a.chapter]="_chapter",r[a.round]="_round",r[a.roundData]="_roundData",r);var f=function(){return function(){this._money=0,this._chapter=1,this._round=1,this._roundData={}}}();n.PlayerData=f;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.initData=function(){this._playerData=new f,this.loadData()},e.prototype.updateDataByType=function(t,e){e&&e!=this._playerData[n.PlayerDataNames[t]]&&(this._playerData[n.PlayerDataNames[t]]=e,this.saveData())},e.prototype.getDataByType=function(t){return this._playerData[n.PlayerDataNames[t]]},e.prototype.saveData=function(){cc.sys.localStorage.setItem("plane_playerData",JSON.stringify(this._playerData))},e.prototype.loadData=function(){var t=JSON.parse(cc.sys.localStorage.getItem("plane_playerData"));for(var e in t)Object.prototype.hasOwnProperty.call(this._playerData,e)&&(this._playerData[e]=t[e])},e=i([s],e)}(c.default);n.default=l,cc._RF.pop()},{"../../framework/utils/Singleton":"Singleton"}],Game:[function(t,e,n){"use strict";cc._RF.push(e,"5a829ZPKBtAob3ihDiVnNsd","Game");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../framework/resourceManager/ResourceManager"),i=t("../../framework/utils/NodePoolManager"),a=t("../data/GamePlayerData"),c=cc._decorator,u=c.ccclass,s=(c.property,function(){function t(){this.inited=!1,this.gameGlobal=null,this.nodePoolMgr=null,this.Rms=null,this.ResManager=null}return t.prototype.init=function(){this.inited||(this.nodePoolMgr=new i.default,this.Rms=new a.default,this.ResManager=new o.default),this.inited=!0},t.prototype.initGameData=function(){this.Rms.initData()},t.prototype.update=function(t){this.inited},t=r([u],t)}());n.default=s,cc._RF.pop()},{"../../framework/resourceManager/ResourceManager":"ResourceManager","../../framework/utils/NodePoolManager":"NodePoolManager","../data/GamePlayerData":"GamePlayerData"}],GeneratorPlane:[function(t,e,n){"use strict";cc._RF.push(e,"ffbda/BJ99A466AXFu4K278","GeneratorPlane");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=t("lodash"),a=t("async"),c=t("../../framework/resourceManager/ResourceManager"),u=t("../common/ResConst");function s(){for(var t=cc.winSize.height/2+280,e=[],n=0;n<6;n++)for(var r=0;r<9;r++){var o=70*r-280,i=t-70*n;e.push(cc.v2(o,i))}return e}var f=cc._decorator,l=f.ccclass,p=f.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.planePrefabs=[],e.stageAsset=null,e.pathAsset=null,e.target=null,e._startPoints=[],e._waves=[],e}return r(e,t),e.prototype.start=function(){c.default.ins().loadRes(u.TempConfig.WaveConfig,cc.JsonAsset,function(t,e){t&&cc.error("\u52a0\u8f7d Wave.json \u5931\u8d25:",t)}),c.default.ins().loadRes(u.TempConfig.PathConfig,cc.JsonAsset,function(t,e){t&&cc.error("\u52a0\u8f7d Wave.json \u5931\u8d25:",t)})},e.prototype.loadStage=function(t){var e=this;c.default.ins().loadRes("config/Stage"+t,cc.JsonAsset,function(t,n){if(t)cc.error("\u52a0\u8f7d stage1.json \u5931\u8d25:",t);else{var r=n.json,o=Object.values(r);e.init(o)}})},e.prototype.init=function(t){var e=this;this._startPoints=s(),this._waves=t,a.eachSeries(this._waves,function(t,n){e._waveGenerate(t.subwaves,n)},function(){cc.game.emit("pass-stage",e,e._waves)})},e.prototype.startGame=function(t){this.loadStage(t)},e.prototype._getStartPos=function(t){return cc.v3(this._startPoints[t])},e.prototype._waveGenerate=function(t,e){var n=this;a.each(t,function(t,e){var r=c.default.ins().getJsonById(u.TempConfig.WaveConfig,t);void 0===r.nextWave&&(r.nextWave=!0),console.log("current wave index: ",t),"sequence"===r.type?n._sequenceGenerate(r,e):"spawn"===r.type?n._spawnGenerate(r,e):"sleep"===r.type&&n.scheduleOnce(function(){return e()},r.time||0)},e)},e.prototype._sequenceGenerate=function(t,e){var n=this;if(this.target){var r=c.default.ins().getJsonById(u.TempConfig.PathConfig,t.path),o=0;a.mapSeries(i.range(0,t.count||0),function(i,a){if(t.planeID&&n.planePrefabs[t.planeID-1]){var c=cc.instantiate(n.planePrefabs[t.planeID-1]);c.parent=n.target,c.position=cc.v3(r.points[0][0]);t.duration,r.points.length;var u=t.repeat,s=null;if(1===r.style){var f=r.points[0].slice(1).map(function(t){return cc.v2(t)}),l=cc.v2(r.points[0][0]);s=f.map(function(e){var n=e.sub(l).mag();return l.x=e.x,l.y=e.y,cc.moveTo(n/t.speed,e)})}else{var p=0;s=r.points.map(function(e){var n=400;r.distances&&p<r.distances.length&&(n=r.distances[p]);var o=e.slice(1).map(function(t){return cc.v2(t)}),i=n/t.speed;return cc.bezierTo(i,[].concat(o))})}var h,d=cc.callFunc(function(){c.isValid&&(c.emit("move-end"),c.destroy(),o++,cc.log("move-end",o),!t.nextWave&&o>=(t.count||0)&&e())});if(void 0===t.repeat)c.runAction(cc.sequence(s.concat([d])));else if(0===t.repeat){s.push(cc.callFunc(function(){c.position=cc.v3(r.points[0][0]),c.stopAction(h),h=v.clone(),c.runAction(h)}));var v=cc.sequence(s);h=v.clone(),c.runAction(h)}else{if(t.repeat>1){s.push(cc.callFunc(function(){c.position=cc.v3(r.points[0][0]),u--,h=y.clone(),1===u?c.runAction(cc.sequence([h,d])):c.runAction(h)}));var y=cc.sequence(s);h=y.clone(),c.runAction(h)}else c.runAction(cc.sequence(s.concat([d])));h=cc.repeat(cc.sequence(s),t.repeat)}n.scheduleOnce(function(){return a(null,c)},t.interval||0),c.on("shoot-down",function(){c.isValid&&(o++,cc.log("shoot-down",o),!t.nextWave&&o>=(t.count||0)&&e())})}else a(null)},function(){t.nextWave&&e()})}},e.prototype._spawnGenerate=function(t,e){var n=this;if(this.target){var r=t.indexs||[],o=0;a.each(r,function(i,a){if(t.planeID&&n.planePrefabs[t.planeID-1]){var c=cc.instantiate(n.planePrefabs[t.planeID-1]);c.parent=n.target,c.position=n._getStartPos(i-1);var u=t.dy||-cc.winSize.height/2-c.y,s=Math.abs(u/(t.speed||1)),f=cc.moveBy(s,cc.v2(0,u)),l=cc.callFunc(function(){c.isValid&&!t.dy&&(c.emit("move-end"),c.destroy(),o++,cc.log("move-end",o),!t.nextWave&&o>=r.length&&e())});c.runAction(cc.sequence(f,l)),c.on("shoot-down",function(){c.isValid&&(o++,cc.log("shoot-down",o),!t.nextWave&&o>=r.length&&e())}),a()}},function(){t.nextWave&&e()})}},o([p([cc.Prefab])],e.prototype,"planePrefabs",void 0),o([p(cc.Node)],e.prototype,"target",void 0),e=o([l],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../framework/resourceManager/ResourceManager":"ResourceManager","../common/ResConst":"ResConst",async:2,lodash:3}],InstanceEvent:[function(t,e,n){"use strict";cc._RF.push(e,"c9449/Hms9OIbPMns/ErjwR","InstanceEvent"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){this.events=null,this.onceEvents=null,this.events=new Array,this.onceEvents=new Array}return t.prototype.on=function(t,e){this.events.push({callback:t,target:e})},t.prototype.once=function(t,e){this.onceEvents.push({callback:t,target:e})},t.prototype.off=function(t,e){for(var n=0;n<this.events.length;n++)this.events[n].callback!==t||e&&this.events[n].target!==e||this.events.splice(n,1);for(n=0;n<this.onceEvents.length;n++)this.onceEvents[n].callback!==t||e&&this.onceEvents[n].target!==e||this.onceEvents.splice(n,1)},t.prototype.emit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0;r<this.events.length;r++)n.push(this.events[r].callback.apply(this.events[r].target,t));for(r=0;r<this.onceEvents.length;r++)n.push(this.onceEvents[r].callback.apply(this.onceEvents[r].target,t));return this.onceEvents.length=0,Promise.all(n)},t.prototype.removeAll=function(){this.events.length=0,this.onceEvents.length=0},t}();n.InstanceEvent=r,cc._RF.pop()},{}],ItemConst:[function(t,e,n){"use strict";var r;cc._RF.push(e,"9940eGM4AtMFZTNlXD3Krbi","ItemConst"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){t[t.Shield=1]="Shield",t[t.HP=2]="HP"}(r=n.ItemType||(n.ItemType={})),n.ItemConfigs=new Map([[r.Shield,{duration:3}],[r.HP,{value:50}]]),cc._RF.pop()},{}],LoaderObserver:[function(t,e,n){"use strict";cc._RF.push(e,"d6c22TriZZGrLkyZo1ivHnN","LoaderObserver"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){return function(t,e,n,r,o){this.url=t,this.type=e,this.bundle=n,this.time=r,this.options=o}}();n.LoaderObserverParam=r,cc._RF.pop()},{}],LoaderUtil:[function(t,e,n){"use strict";var r;cc._RF.push(e,"29640gEZFxDjI84h8JLwnlo","LoaderUtil"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){t.NET="net",t.LOCAL="local",t.FILE="file"}(r=n.UrlType||(n.UrlType={})),n.getUrlType=function(t){return void 0===t&&(t=""),t.startsWith("http://")||t.startsWith("https://")?r.NET:t.startsWith("file")?r.FILE:t.startsWith("assets")?r.FILE:r.LOCAL};var o=[".png",".jpg",".bmp",".jpeg",".gif",".ico",".tiff",".webp",".image",".pvr",".pkm"],i=[".mp3",".ogg",".wav",".m4a"];function a(t){var e=t.split("."),n=e.length;return n>1?"."+e[n-1]:""}n.getResourceClassType=function(t){var e=a(t);return o.includes(e)?cc.SpriteFrame:i.includes(e)?cc.AudioClip:void 0},cc._RF.pop()},{}],NodePoolManager:[function(t,e,n){"use strict";cc._RF.push(e,"58a85x1bbBL9I7rhAgQ7dOl","NodePoolManager");var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,c)}u((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return u([t,e])}}function u(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../resourceManager/ResourceManager"),a=function(){function t(){this.poolMap=new Map,this.nodePoolMap=new Map}return t.prototype.getNodeFromPool=function(t,e){return r(this,void 0,void 0,function(){var n,r,a;return o(this,function(o){switch(o.label){case 0:return t||""!=t?((n=this.poolMap.get(t))||(n=new cc.NodePool,this.poolMap.set(t,n)),n.size()<1?[4,i.default.ins().getPrefab(e)]:[3,2]):[2,null];case 1:return a=o.sent(),r=cc.instantiate(a),[3,3];case 2:r=n.get(),o.label=3;case 3:return r.active=!0,[2,r]}})})},t.prototype.putNodeToPool=function(t,e){if(!t&&""==t)return null;var n=this.poolMap.get(t);n||(n=new cc.NodePool,this.poolMap.set(t,n)),e.active=!1,e.parent=null,n.put(e)},t.prototype.getPool=function(t){var e=this.nodePoolMap.get(t);return e||(e=new c,this.nodePoolMap.set(t,e)),e},t.prototype.getNode=function(t){return r(this,void 0,void 0,function(){var e,n,r;return o(this,function(o){switch(o.label){case 0:return e=this.getPool(t),(n=e.get())?[3,2]:[4,i.default.ins().getPrefab(t)];case 1:r=o.sent(),(n=cc.instantiate(r)).poolKey=t,o.label=2;case 2:return[2,n]}})})},t.prototype.putNode=function(t,e){void 0===e&&(e=!1);var n=t.poolKey;this.getPool(n).put(t,e)},t.prototype.clear=function(t){var e=this.poolMap[t];e&&e.clear()},t}();n.default=a;var c=function(){function t(){this.nodePool=[]}return t.prototype.get=function(){var t=this.nodePool.length-1;if(t<0)return null;var e=this.nodePool[t];return this.nodePool.length=t,this.setComEnable(e,!0),e},t.prototype.put=function(t,e){t&&-1===this.nodePool.indexOf(t)&&(e?t.removeFromParent(!1):(this.setComEnable(t,!1),t.scale=0,t.cleanup()),this.nodePool[this.size()]=t)},t.prototype.setComEnable=function(t,e){for(var n=[],r=t.getComponentsInChildren(cc.BoxCollider),o=t.getComponentsInChildren(cc.CircleCollider),i=t.getComponentsInChildren(cc.PolygonCollider),a=0,c=(n=n.concat(r,o,i)).length;a<c;a++){n[a].node.isCanCol=!e}},t.prototype.size=function(){return this.nodePool.length},t.prototype.clear=function(){for(var t=0,e=this.nodePool.length;t<e;t++){this.nodePool[t].destroy()}this.nodePool.length=0},t}();n.GameNodePool=c,cc._RF.pop()},{"../resourceManager/ResourceManager":"ResourceManager"}],PlaneGenerator:[function(t,e,n){"use strict";cc._RF.push(e,"e0f1elkZS5Is6LdRgHbM/If","PlaneGenerator");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=t("lodash"),a=cc._decorator,c=a.ccclass,u=a.property,s=function(){function t(){this.planePrefab=null,this.bulletPrefab=null,this.count=10,this.move=0}return o([u(cc.Prefab)],t.prototype,"planePrefab",void 0),o([u(cc.Prefab)],t.prototype,"bulletPrefab",void 0),o([u(cc.Integer)],t.prototype,"count",void 0),o([u(cc.Integer)],t.prototype,"move",void 0),t=o([c("PlaneParam")],t)}(),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.planes=[],e.rate=2,e.target=null,e.pathAsset=null,e._index=0,e}return r(e,t),e.prototype.start=function(){this._index=0,this.schedule(this._createPlane,this.rate)},e.prototype._createPlane=function(){var t=this.planes[this._index];if(t&&t.planePrefab&&this.target){t.count--,0===t.count&&this._index++;var e=cc.instantiate(t.planePrefab);e.getComponent("Plane");e.x=i.random(-cc.winSize.width/2+e.width/2,cc.winSize.width/2-e.width/2),e.y=i.random(cc.winSize.height/2,cc.winSize.height/2+e.height),e.parent=this.target,0===t.move?this._planeAction(e):(e.x=0,e.runAction(cc.moveTo(3,e.x,cc.winSize.height/2*.5)))}else cc.log("\u6ca1\u6709\u98de\u673a\u4e86")},e.prototype._planeAction=function(t){if(this.pathAsset){var e=i.sample(this.pathAsset.json);if(1===e.type){t.position=cc.v3(e.points[0][0]);var n=e.points.map(function(t){var e=t.slice(1).map(function(t){return cc.v2(t)});return cc.bezierTo(i.random(5,10),e)});1===n.length?t.runAction(n[0]):t.runAction(cc.sequence(n))}}},o([u([s])],e.prototype,"planes",void 0),o([u],e.prototype,"rate",void 0),o([u(cc.Node)],e.prototype,"target",void 0),o([u(cc.JsonAsset)],e.prototype,"pathAsset",void 0),e=o([c],e)}(cc.Component);n.default=f,cc._RF.pop()},{lodash:3}],Plane:[function(t,e,n){"use strict";cc._RF.push(e,"c192fpaPYJBuaOdIHX2n4Vt","Plane");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._hp=1,e.defense=0,e.damageCooldown=.5,e._lastDamageTime=0,e}return r(e,t),Object.defineProperty(e.prototype,"hp",{get:function(){return this._hp},set:function(t){this._hp=t,this._updateHp()},enumerable:!0,configurable:!0}),e.prototype._updateHp=function(){this._progressBar&&(this._progressBar.progress=this.hp/this._maxHP)},e.prototype.start=function(){this._maxHP=this.hp;var t=this.node.getChildByName("progressBar");if(t){t.opacity=0;var e=t.getComponent(cc.ProgressBar);this._progressBar=e,this._progressBar.progress=this.hp/this._maxHP}},e.prototype.getMaxHP=function(){return this._maxHP},e.prototype._playDestroy=function(){var t=this;this.node.stopAllActions(),this.node.getComponent(cc.Collider).enabled=!1,this.node.getComponents("Weapon").forEach(function(t){return t.enabled=!1});var e=cc.fadeOut(.5),n=cc.scaleTo(.3,.1),r=cc.spawn(e,n),o=cc.callFunc(function(){t.node.emit("shoot-down",t)}),i=cc.removeSelf();this.node.runAction(cc.sequence(r,o,i))},e.prototype.onWeaponRemove=function(){},e.prototype.takeDamage=function(t){var e=cc.director.getTotalTime()/1e3,n=Math.max(1,t-this.defense);return this.hp-=n,this._lastDamageTime=e,this._progressBar&&(this._progressBar.node.opacity=255,this.unschedule(this._hideProgressBar),this.scheduleOnce(this._hideProgressBar,1)),this.hp<=0&&this._playDestroy(),!0},e.prototype._hideProgressBar=function(){this._progressBar&&(this._progressBar.node.opacity=0)},e.EventTarget=new cc.EventTarget,o([c],e.prototype,"_hp",void 0),o([c({type:cc.Integer,visible:!0})],e.prototype,"hp",null),o([c],e.prototype,"defense",void 0),o([c],e.prototype,"damageCooldown",void 0),e=o([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],PlayScene:[function(t,e,n){"use strict";cc._RF.push(e,"df761chJMRG84d4fN2NEoGQ","PlayScene");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../../framework/resourceManager/ResourceManager"),a=t("../common/ResConst"),c=t("../data/GamePlayerData"),u=t("../plane/GeneratorPlane"),s=cc._decorator,f=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scoreLabel=null,e.nodeResult=null,e.nodeStart=null,e.planeGenerator=null,e._score=0,e.chapterList=null,e.chapterItemPrefab=null,e._currentChapter=1,e._unlockChapter=1,e._maxChapter=1,e}return r(e,t),e.prototype.start=function(){App.initGameData(),this._score=0,cc.game.on("pass-stage",this._passStage,this),cc.game.on("player-under-attack",this._onPlayerUnderAttack,this),cc.game.on("enemy-plane-destroy",this._onEnemyPlaneDestroy,this),cc.game.on("shield-activate",this.onShowShield,this),cc.game.on("shield-deactivate",this.onHideShield,this),cc.game.on("hp-update",this.onUpdateHP,this),this._unlockChapter=App.Rms.getDataByType(c.PLAYER_DATE_TYPE.chapter),this._currentChapter=this._unlockChapter,this.loadChapter()},e.prototype.loadChapter=function(){var t=this;i.default.ins().loadRes(a.TempConfig.ChapterConfig,cc.JsonAsset,function(e,n){if(e)cc.error("\u52a0\u8f7d chapter.json \u5931\u8d25:",e);else{var r=n.json,o=Object.values(r);t.chapterList.width=210*o.length;var i=t._unlockChapter/o.length;t.chapterList.parent.parent.getComponent(cc.ScrollView).scrollToPercentHorizontal(i),o.forEach(function(e,n){if(t.chapterItemPrefab&&t.chapterList){t._maxChapter=Math.max(1,e.level);var r=cc.instantiate(t.chapterItemPrefab);r.parent=t.chapterList,r.children[1].active=t._currentChapter===e.level,r.getChildByName("titleLabel").getComponent(cc.Label).string=e.name;var o=e.level>t._unlockChapter;r.children[3].active=o,r.getComponent(cc.Button).node.on("click",function(){t.chapterList.children.forEach(function(t){t.children[1].active=!1}),r.children[1].active=!0,o||(t._currentChapter=e.level)},t)}})}})},e.prototype._passStage=function(t,e){this.nodeResult.active=!0,this.nodeResult.getChildByName("passLabel").getComponent(cc.Label).string="\u5f97\u5206\uff1a"+this._score.toString(),this.nodeResult.getChildByName("spWin").active=!0,this.nodeResult.getChildByName("spLose").active=!1,this.nodeResult.scale=.1;var n=cc.scaleTo(.3,1).easing(cc.easeBounceOut());this.nodeResult.runAction(n);var r=App.Rms.getDataByType(c.PLAYER_DATE_TYPE.chapter);this._currentChapter>=r&&App.Rms.updateDataByType(c.PLAYER_DATE_TYPE.chapter,Math.min(r+1,this._maxChapter))},e.prototype._onPlayerUnderAttack=function(t){if(t.hp<=0){this.nodeResult.active=!0,this.nodeResult.getChildByName("passLabel").getComponent(cc.Label).string="\u5f97\u5206\uff1a"+this._score.toString(),this.nodeResult.getChildByName("spWin").active=!1,this.nodeResult.getChildByName("spLose").active=!0,this.nodeResult.scale=.1;var e=cc.scaleTo(.3,1).easing(cc.easeBounceOut());this.nodeResult.runAction(e)}},e.prototype._onEnemyPlaneDestroy=function(t){if(this.scoreLabel){this._score+=100*t.getMaxHP(),this.scoreLabel.string=this._score.toString();var e=cc.scaleTo(.05,1.1),n=cc.scaleTo(.05,1);this.scoreLabel.node.runAction(cc.sequence(e,n))}},e.prototype.onClickStart=function(){this.nodeStart.active=!1,this.planeGenerator.getComponent(u.default).startGame(this._currentChapter)},e.prototype.onClicKAgain=function(){this.nodeResult.active=!1,cc.game.off("pass-stage",this._passStage,this),cc.game.off("player-under-attack",this._onPlayerUnderAttack,this),cc.game.off("enemy-plane-destroy",this._onEnemyPlaneDestroy,this),this._score=0,this.scoreLabel&&(this.scoreLabel.string="0"),cc.director.loadScene("PlayScene")},e.prototype.onShowShield=function(t){t.getChildByName("hudun").active=!0},e.prototype.onHideShield=function(t){t.getChildByName("hudun").active=!1},e.prototype.onUpdateHP=function(t,e,n){var r=t.getChildByName("hp");if(r){r.active=!0;var o=r.getComponent(cc.Animation);r.getChildByName("lbHp").getComponent(cc.Label).string=" + "+e.toString(),o.off(cc.Animation.EventType.FINISHED),o.on(cc.Animation.EventType.FINISHED,function(t){r.active=!1}),o.getAnimationState("hp").isPlaying||o.play()}},o([l(cc.Label)],e.prototype,"scoreLabel",void 0),o([l({type:cc.Node,tooltip:!1})],e.prototype,"nodeResult",void 0),o([l({type:cc.Node,tooltip:!1})],e.prototype,"nodeStart",void 0),o([l({type:cc.Node,tooltip:!1})],e.prototype,"planeGenerator",void 0),o([l(cc.Node)],e.prototype,"chapterList",void 0),o([l(cc.Prefab)],e.prototype,"chapterItemPrefab",void 0),e=o([f],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../framework/resourceManager/ResourceManager":"ResourceManager","../common/ResConst":"ResConst","../data/GamePlayerData":"GamePlayerData","../plane/GeneratorPlane":"GeneratorPlane"}],PlayerPlane:[function(t,e,n){"use strict";cc._RF.push(e,"a70eddPSjFHyoPvxT4FcL3h","PlayerPlane");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../timer/TimerManager"),a=t("./Plane"),c=cc._decorator.ccclass,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.activeEffects=new Map,e.isInvincible=!1,e}return r(e,t),e.prototype.onLoad=function(){},e.prototype._updateHp=function(){},e.prototype.onCollisionEnter=function(t){if(!this.isInvincible){var e=t.getComponent("Bullet");if(e)this.hp-=e.getDamageValue();else{var n=t.getComponent(a.default);n&&(this.hp-=n.hp)}this.hp<=0&&this._playDestroy(),cc.game.emit("player-under-attack",this)}},e.prototype._playDestroy=function(){this.activeEffects.forEach(function(t){i.TimerManager.instance.removeTimer(t)}),t.prototype._playDestroy.call(this)},e=o([c],e)}(a.default);n.default=u,cc._RF.pop()},{"../timer/TimerManager":"TimerManager","./Plane":"Plane"}],PolygonMask:[function(t,e,n){"use strict";cc._RF.push(e,"4fa662BQQxIRZ2QaKDBPZSR","PolygonMask");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=cc.gfx,a=cc._decorator,c=a.ccclass,u=a.property,s=a.executeInEditMode,f=a.requireComponent,l=[cc.v2(-50,-50),cc.v2(50,-50),cc.v2(50,50),cc.v2(-50,50)],p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._editing=!1,e._offset=cc.v2(0,0),e._spriteFrame=null,e._vertexes=l,e._meshCache=null,e.renderer=null,e.mesh=null,e.texture=null,e}return r(e,t),Object.defineProperty(e.prototype,"editing",{get:function(){return this._editing},set:function(t){this._editing=t,this._applyVertexes()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this._offset},set:function(t){this._offset=t,this.editing&&this._applyVertexes()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spriteFrame",{get:function(){return this._spriteFrame},set:function(t){this._spriteFrame=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vertexes",{get:function(){return this._vertexes},set:function(t){this._vertexes=t,this._updateMesh(),this.editing&&this._applyVertexes()},enumerable:!0,configurable:!0}),e.prototype.start=function(){this._meshCache={},this._updateMesh();var t=this.node.getComponent(cc.MeshRenderer);t.mesh=null,this.renderer=t;var e=cc.MaterialVariant.createWithBuiltin("unlit",this).material;t.setMaterial(0,e),this._applySpriteFrame(),this._applyVertexes()},e.prototype._updateMesh=function(){var t=this._meshCache[this.vertexes.length];t||((t=new cc.Mesh).init(new i.VertexFormat([{name:i.ATTR_POSITION,type:i.ATTR_TYPE_FLOAT32,num:2},{name:i.ATTR_UV0,type:i.ATTR_TYPE_FLOAT32,num:2}]),this.vertexes.length,!0),this._meshCache[this.vertexes.length]=t),this.mesh=t},e.prototype._applyVertexes=function(){var t=this,e=this.mesh,n=this.vertexes.map(function(e){return e.add(t.offset)});if(e.setVertices(i.ATTR_POSITION,n),this.texture){for(var r=[],o=0,a=n;o<a.length;o++){var c=a[o],u=(c.x+this.texture.width/2)/this.texture.width,s=1-(c.y+this.texture.height/2)/this.texture.height;r.push(cc.v2(u,s))}e.setVertices(i.ATTR_UV0,r)}if(this.vertexes.length>=3){for(var f=[],l=[].concat(n),p=0,h=-1;l.length>3;){var d=l[p%l.length],v=l[(p+1)%l.length],y=l[(p+2)%l.length],_=v.sub(d),g=y.sub(v);if(_.cross(g)>=0){for(var m=!1,b=0,w=l;b<w.length;b++){var P=w[b];if(P!==d&&P!==v&&P!==y&&this._testInTriangle(P,d,v,y)){m=!0;break}}if(m){if((p=(p+1)%l.length)===h){cc.log("\u5faa\u73af\u4e00\u5708\u672a\u53d1\u73b0");break}}else f=f.concat([n.indexOf(d),n.indexOf(v),n.indexOf(y)]),l.splice(l.indexOf(v),1),h=p}else if((p=(p+1)%l.length)===h){cc.log("\u5faa\u73af\u4e00\u5708\u672a\u53d1\u73b0");break}}f=f.concat(l.map(function(t){return n.indexOf(t)})),e.setIndices(f),this.renderer.mesh!=e&&(this.renderer.mesh=e)}},e.prototype._testInTriangle=function(t,e,n,r){var o=n.sub(e),i=r.sub(e),a=r.sub(n),c=t.sub(e),u=t.sub(n);return o.cross(i)>=0!=o.cross(c)<0&&o.cross(i)>=0!=i.cross(c)>=0&&a.cross(o)>0!=a.cross(u)>=0},e.prototype._applySpriteFrame=function(){if(this.spriteFrame){var t=this.renderer.getMaterial(0),e=this.spriteFrame.getTexture();t.define("USE_DIFFUSE_TEXTURE",!0),t.setProperty("diffuseTexture",e),this.texture=e}},o([u({serializable:!1,readonly:!0})],e.prototype,"_editing",void 0),o([u],e.prototype,"editing",null),o([u],e.prototype,"_offset",void 0),o([u],e.prototype,"offset",null),o([u({type:cc.SpriteFrame})],e.prototype,"_spriteFrame",void 0),o([u({type:cc.SpriteFrame})],e.prototype,"spriteFrame",null),o([u({type:cc.Vec2})],e.prototype,"_vertexes",void 0),o([u({type:cc.Vec2})],e.prototype,"vertexes",null),e=o([c,s,f(cc.MeshRenderer)],e)}(cc.Component);n.default=p,cc._RF.pop()},{}],PropStrategyManager:[function(t,e,n){"use strict";cc._RF.push(e,"deb96rCEaxOMIDYb0Br3SWk","PropStrategyManager"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("./ItemConst"),o=t("./DropItemPropStrategy"),i=function(){function t(){this._strategyMap=new Map,this.initializeStrategies()}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.initializeStrategies=function(){this.registerStrategy(r.ItemType.Shield,new o.ShieldStrategy),this.registerStrategy(r.ItemType.HP,new o.HealStrategy)},t.prototype.registerStrategy=function(t,e){var n=r.ItemConfigs.get(t);n&&Object.assign(e.getConfig(),n),this._strategyMap.set(t,e)},t.prototype.getStrategy=function(t){return this._strategyMap.get(t)},t}();n.PropStrategyManager=i,cc._RF.pop()},{"./DropItemPropStrategy":"DropItemPropStrategy","./ItemConst":"ItemConst"}],ResConst:[function(t,e,n){"use strict";cc._RF.push(e,"7751a197elMaaUDhQr9otMu","ResConst"),Object.defineProperty(n,"__esModule",{value:!0}),n.ConfigBasePath="config/",n.TempConfig={StageConfig:n.ConfigBasePath+"Stage2",PathConfig:n.ConfigBasePath+"Path",WaveConfig:n.ConfigBasePath+"Wave",ChapterConfig:n.ConfigBasePath+"Chapter",AttributeConfig:n.ConfigBasePath+"attribute",DropConfig:n.ConfigBasePath+"drop",ItemConfig:n.ConfigBasePath+"item",RankConfig:n.ConfigBasePath+"rank",MonsterConfig:n.ConfigBasePath+"monster",SpawnerConfig:n.ConfigBasePath+"spawner",SkillConfig:n.ConfigBasePath+"skill",BulletConfig:n.ConfigBasePath+"bullet"},cc._RF.pop()},{}],ResLoader:[function(t,e,n){"use strict";cc._RF.push(e,"6b563h2+aBMFZcEsLd84F0/","ResLoader");var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,c)}u((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return u([t,e])}}function u(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./LoaderObserver"),a=t("./LoaderUtil"),c=function(){function t(){}return t.addObserver=function(e){t._observerList.push(e)},t.loadRes=function(e,n,c,u,s){return r(this,void 0,Promise,function(){var r,f,l,p,h;return o(this,function(o){if(r=null,f=null,"object"!=typeof n&&(f=n,u&&"string"==typeof u&&""!==u?r=cc.assetManager.getBundle(u):u&&"string"!=typeof u&&(r=u),r&&(l=r.get(e,f))))return t.__beforeLoadRes(new i.LoaderObserverParam(e,f,r,0,null)),c(null,l),t.__afterLoadRes(new i.LoaderObserverParam(e,f,r,0,null)),[2];switch(p=new i.LoaderObserverParam(e,f,r,0,null),t.__beforeLoadRes(p),h=(new Date).getTime(),a.getUrlType(e)){case a.UrlType.LOCAL:t.loadLocalRes(e,n,s,function(e,n){c&&(p.time=(new Date).getTime()-h,t.__afterLoadRes(p),c(e,n))},r);break;case a.UrlType.FILE:case a.UrlType.NET:t.loadRemoteRes(e,n,function(e,n){c&&(p.time=(new Date).getTime()-h,t.__afterLoadRes(p),c(e,n))})}return[2]})})},t.loadDir=function(t,e,n,r,o){var i=null;(i=o&&"string"==typeof o&&""!==o?cc.assetManager.getBundle(o):o&&"string"!=typeof o?o:cc.resources)?i.loadDir(t,e,n,r):r(new Error("bundle "+o+" is not exists!"),null)},t.loadBundle=function(e,n,r){return new Promise(function(o,a){var c=new i.LoaderObserverParam(e,null,null,0,null),u=(new Date).getTime();t.__beforeLoadBundle(c);var s=cc.assetManager.bundles.find(function(t,n){return-1!==t.base.indexOf(e)||t.name===e});if(s)return c.time=(new Date).getTime()-u,t.__afterLoadBundle(c),r&&r(null,s),void o(s);cc.assetManager.loadBundle(e,n,function(e,n){c.time=(new Date).getTime()-u,t.__afterLoadBundle(c),r&&r(e,n),o(n)})})},t.loadRemoteRes=function(t,e,n){return new Promise(function(r,o){cc.assetManager.loadRemote(t,e,function(t,e){t?(console.error(t),o(t)):r(e),n&&n(t,e)})})},t.loadLocalRes=function(t,e,n,r,o){return new Promise(function(i,a){o?o.load(t,e,n,function(t,e){t?(console.error(t),a(t)):i(e),r&&r(t,e)}):cc.loader.loadRes(t,e,function(t,e){t?(console.error(t),a(t)):i(e),r&&r(t,e)})})},t.__beforeLoadRes=function(e){for(var n=0,r=t._observerList;n<r.length;n++){r[n].beforeLoadRes(e)}},t.__afterLoadRes=function(e){for(var n=0,r=t._observerList;n<r.length;n++){r[n].afterLoadRes(e)}},t.__beforeLoadBundle=function(e){for(var n=0,r=t._observerList;n<r.length;n++){r[n].beforeLoadBundle(e)}},t.__afterLoadBundle=function(e){for(var n=0,r=t._observerList;n<r.length;n++){r[n].afterLoadBundle(e)}},t.removeObserver=function(e){for(var n=t._observerList.length-1;n>=0;n--){if(t._observerList[n]===e)return t._observerList.splice(n,1),!0}return!1},t.releaseAsset=function(t){t.decRef()},t._observerList=[],t}();n.default=c,cc._RF.pop()},{"./LoaderObserver":"LoaderObserver","./LoaderUtil":"LoaderUtil"}],ResourceManager:[function(t,e,n){"use strict";cc._RF.push(e,"dfceb+CEIxI5qEvFsG7xHfT","ResourceManager");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,c)}u((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return u([t,e])}}function u(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../utils/Singleton"),c=t("./CacheAssetManager"),u=t("./ResLoader"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._assetsReloadMap=new Map,e._resourceMaps={},e._loadUrls=[],e}return r(e,t),e.prototype.onInitInstance=function(){this._assetsReloadMap=new Map},e.prototype.onDestroyInstance=function(){this.clearAssets()},e.prototype.loadRes=function(t,e,n,r,o){var i=this,a=this.getAsset(t);if(a)return n(null,a),this._loadUrls.push(t),void c.default.ins().setAsset(t,a);u.default.loadRes(t,e,function(e,r){n(e,r),i.addLocalRes2ResourceMaps(t,r.nativeUrl),r instanceof cc.Prefab||(i._loadUrls.push(t),c.default.ins().setAsset(t,r))},r,o)},e.prototype.loadDir=function(t,e,n){var r=this.getResourceList(t);this.loadResourceList(r,e,n)},e.prototype.loadDirs=function(t,e,n){var r=this,o=[];t.forEach(function(t){var e=r.getResourceList(t);o.push.apply(o,e)}),this.loadResourceList(o,e,n)},e.prototype.loadBundle=function(t,e,n){u.default.loadBundle(t,e,n)},e.prototype.clearAssets=function(){c.default.ins().releasingResourceList(this._loadUrls)},e.prototype.loadRemote=function(t,e,n){var r=this,o=this.getAsset(t);o?n(null,o):u.default.loadRes(t,null,function(e,i){e?(console.error(t,e),n(e,null)):(r._loadUrls.push(t),c.default.ins().setAsset(t,o),n(e,i))})},e.prototype.getAsset=function(t){return c.default.ins().getAsset(t)},e.prototype.getJson=function(t){return c.default.ins().getAsset(t).json},e.prototype.getJsonById=function(t,e){return c.default.ins().getAsset(t).json[e.toString()]},e.prototype.getTexture=function(t){return o(this,void 0,Promise,function(){var e=this;return i(this,function(n){return[2,new Promise(function(n,r){e.loadRes(t,cc.SpriteFrame,function(t,e){t?r(t):n(e)})})]})})},e.prototype.getPrefab=function(t){return o(this,void 0,Promise,function(){var e=this;return i(this,function(n){return[2,new Promise(function(n,r){e.loadRes(t,cc.Prefab,function(t,e){t?r(t):n(e)})})]})})},e.prototype.getResourceList=function(t){var e=[];return cc.resources.getDirWithPath(t,cc.Asset).forEach(function(t){e.push(t.path)}),e},e.prototype.loadResourceList=function(t,e,n){var r=this;this._loadUrls=t,this._onResListComplete=e,this._onResListProgress=n,this._finish=0,t.length>0?t.map(function(t){r._assetsReloadMap.set(t,0),r.loadResource(t)}):this.loadResEnd()},e.prototype.loadResEnd=function(){for(var t=0;t<this._loadUrls.length;t++)if(!c.default.ins().getAsset(this._loadUrls[t]))return this._finish++,void(this._onResListProgress&&this._onResListProgress(this._finish,this._loadUrls.length));this._onResListComplete&&(this._onResListComplete(),this._onResListComplete=null)},e.prototype.getName=function(t){var e=t.split("/");return e[e.length-1].split(".")[0]},e.prototype.loadResource=function(t){var e=this,n=this.transRequestUrl(t),r=c.default.ins().getAsset(n);if(r)return c.default.ins().setAsset(t,r),void this.loadResEnd();u.default.loadRes(n,null,function(n,r){if(n){var o=e._assetsReloadMap.get(t);if(o<2)return e._assetsReloadMap.set(t,o+1),e.loadResource(t);c.default.ins().setAsset(t,{}),e.loadResEnd()}else c.default.ins().setAsset(t,r),e.loadResEnd()})},e.prototype.transRequestUrl=function(t){return this._resourceMaps[t]?this._resourceMaps[t]:t},e.prototype.addLocalRes2ResourceMaps=function(t,e){this._resourceMaps&&(this._resourceMaps[t]=e)},e}(a.default);n.default=s,cc._RF.pop()},{"../utils/Singleton":"Singleton","./CacheAssetManager":"CacheAssetManager","./ResLoader":"ResLoader"}],ScrollCamera:[function(t,e,n){"use strict";cc._RF.push(e,"36c3cepiONKX673LWheCcIL","ScrollCamera");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,u=i.requireComponent,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=300,e.loopGrounds=[],e}return r(e,t),e.prototype.start=function(){this.camera=this.getComponent(cc.Camera);var t=this.loopGrounds[0];if(t){t.position=cc.v3(0,0,0);for(var e=1;e<this.loopGrounds.length;e++){var n=this.loopGrounds[e-1];(t=this.loopGrounds[e]).position=cc.v3(0,n.y+(n.height+t.height)/2)}}},e.prototype.update=function(t){var e=this.loopGrounds[0];if(e){var n=(cc.winSize.height-e.height)/2;if(this.camera.node.y>e.y+e.height+n){var r=this.loopGrounds[this.loopGrounds.length-1];this.loopGrounds.shift(),this.loopGrounds.push(e),e.y=r.y+(r.height+e.height)/2}}this.node.y+=t*this.speed},o([c],e.prototype,"speed",void 0),o([c([cc.Node])],e.prototype,"loopGrounds",void 0),e=o([a,u(cc.Camera)],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],Singleton:[function(t,e,n){"use strict";cc._RF.push(e,"78fa1mwepVIh5rZTlUKSQvT","Singleton"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.ins=function(){return this.instance||(this.instance=new this),this.instance},t}();n.default=r,cc._RF.pop()},{}],SpinWeapon:[function(t,e,n){"use strict";cc._RF.push(e,"68265Nhk6tOtYedF3tM3VnO","SpinWeapon");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./Weapon"),a=cc._decorator,c=a.ccclass,u=a.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spinMin=-45,e.spinMax=45,e.spinSpeed=1e3,e._flag=1,e}return r(e,t),e.prototype.start=function(){t.prototype.start.call(this),this.rotation=this.spinMin,this._flag=1},e.prototype.update=function(t){var e=t*this.spinSpeed*this._flag;this.rotation=this.rotation+e,this.rotation>this.spinMax?(this.rotation=this.spinMax,this._flag=-1):this.rotation<this.spinMin&&(this.rotation=this.spinMin,this._flag=1)},e.prototype.assignParam=function(e){t.prototype.assignParam.call(this,e),e.spinMax=this.spinMax,e.spinMin=this.spinMin,e.spinSpeed=this.spinSpeed},o([u],e.prototype,"spinMin",void 0),o([u],e.prototype,"spinMax",void 0),o([u],e.prototype,"spinSpeed",void 0),e=o([c],e)}(i.default);n.default=s,cc._RF.pop()},{"./Weapon":"Weapon"}],Stately:[function(t,e,n){"use strict";function r(t){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}cc._RF.push(e,"d27e1Vqq5xKqpI8zYirx5wV","Stately"),function(t,o){"object"===(void 0===n?"undefined":r(n))?e.exports=o():"function"==typeof define&&define.amd?define(o):(void 0).Stately=o()}(0,function(){var t=Object.prototype.toString,e=function(){function t(t){this.name="InvalidStateError",this.message=t}return t.prototype=new Error,t.prototype.constructor=t,t}();function n(n,r){if("function"==typeof n&&(n=n()),"[object Object]"!==t.call(n))throw new e("Stately.js: Invalid states object: `"+n+"`.");function o(t,e){for(var n in a[t])if(a[t].hasOwnProperty(n)&&n.toLowerCase()===e.toLowerCase())return a[t][n]}var i,a={getMachineState:function(){return i.name},setMachineState:function t(n){var r,c,u=arguments[1],s=i;if("string"==typeof n&&(n=a[n]),!n||!n.name||!a[n.name])throw new e("Stately.js: Transitioned into invalid state: `"+t.caller+"`.");return i=n,(c=o(s.name,"onLeave"))&&"function"==typeof c&&s.name!=i.name&&c.call(a,u,s.name,i.name),(r=o(i.name,"onEnter"))&&"function"==typeof r&&s.name!=n.name&&r.call(a,u,s.name,n.name),this},getMachineEvents:function(){var t=[];for(var e in i)i.hasOwnProperty(e)&&"function"==typeof i[e]&&t.push(e);return t}},c={getMachineState:a.getMachineState,getMachineEvents:a.getMachineEvents},u=function(e,n,r){return function(){for(var u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];var f,l,p,h=c;return a[e]!==i?(r&&(h=r.apply(a,u)),h):((f=o(i.name,"onBefore"+n))&&"function"==typeof f&&f.call(a,n,i.name,i.name),void 0===(h=a[e][n].apply(a,u))?(p=i,h=c):"string"==typeof h?(p=a[h],h=c):h.constructor===Array?(p=void 0===h[0]?i:"string"==typeof h[0]?a[h[0]]:h[0],h=h[1]||c):"[object Object]"===t.call(h)&&(p=h===a?i:h,h=c),(l=o(i.name,"onAfter"+n))&&"function"==typeof l&&l.call(a,n,i.name,p.name),a.setMachineState(p,n),h)}};for(var s in n)if(n.hasOwnProperty(s)){for(var f in a[s]=n[s],a[s])a[s].hasOwnProperty(f)&&("string"==typeof a[s][f]&&(a[s][f]=function(t){return function(){return this[t]}}(a[s][f])),"function"!=typeof a[s][f]||/^onEnter$/i.test(f)||/^onLeave$/i.test(f)||/^onBefore/i.test(f)||/^onAfter/i.test(f)||(c[f]=u(s,f,c[f])));a[s].name=s,i||(i=a[s])}if(void 0!==a[r]&&(i=a[r]),!i)throw new e("Stately.js: Invalid initial state.");return c}return n.machine=function(t,e){return new n(t,e)},n.InvalidStateError=e,n}),cc._RF.pop()},{}],TimerManager:[function(t,e,n){"use strict";cc._RF.push(e,"11ca8jLh7VCRKW5DLxlIKTI","TimerManager"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("./Timer"),o=function(){function t(){this._timers=new Map,this._idCounter=0}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t)},enumerable:!0,configurable:!0}),t.prototype.addTimer=function(t,e){var n=++this._idCounter,o=new r.Timer(n,t,e);return this._timers.set(n,o),o.start(),n},t.prototype.removeTimer=function(t){var e=this._timers.get(t);e&&(e.clear(),this._timers.delete(t))},t.prototype.pauseTimer=function(t){var e=this._timers.get(t);e&&e.pause()},t.prototype.resumeTimer=function(t){var e=this._timers.get(t);e&&e.resume()},t.prototype.pauseAll=function(){this._timers.forEach(function(t){return t.pause()})},t.prototype.resumeAll=function(){this._timers.forEach(function(t){return t.resume()})},t.prototype.clearAll=function(){this._timers.forEach(function(t){return t.clear()}),this._timers.clear()},t}();n.TimerManager=o,cc._RF.pop()},{"./Timer":"Timer"}],Timer:[function(t,e,n){"use strict";cc._RF.push(e,"f49a8AepxRBYr7ZEfPVmVrh","Timer"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("./TimerManager"),o=function(){function t(t,e,n){this.id=t,this._callback=e,this._delay=n,this._paused=!1}return t.prototype.start=function(){var t=this;this._startTime=Date.now(),this._timeoutId=setTimeout(function(){return t._execute()},this._delay)},t.prototype.pause=function(){this._paused||(this._remaining=this._delay-(Date.now()-this._startTime),clearTimeout(this._timeoutId),this._paused=!0)},t.prototype.resume=function(){var t=this;this._paused&&(this._delay=this._remaining,this._startTime=Date.now(),this._timeoutId=setTimeout(function(){return t._execute()},this._remaining),this._paused=!1)},t.prototype.clear=function(){clearTimeout(this._timeoutId),this._paused=!0},t.prototype._execute=function(){this._paused||(this._callback(),r.TimerManager.instance.removeTimer(this.id))},t}();n.Timer=o,cc._RF.pop()},{"./TimerManager":"TimerManager"}],TitleComponent:[function(t,e,n){"use strict";cc._RF.push(e,"b9d31bZp0VIuoGwR37N/sLh","TitleComponent");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelTitle=null,e}return r(e,t),e.prototype.setTitle=function(t){this.labelTitle&&(this.labelTitle.string=t)},o([c(cc.Label)],e.prototype,"labelTitle",void 0),e=o([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],UpdateRotation:[function(t,e,n){"use strict";cc._RF.push(e,"02735c4KING76meJgWBd/UH","UpdateRotation");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property;function u(t,e,n){void 0===n&&(n=0);var r=e.x-t.x,o=e.y-t.y;return 180*Math.atan2(r,o)/Math.PI%360+n}var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.offsetRotation=0,e}return r(e,t),e.prototype.update=function(){if(this.samplePoint){if(this.samplePoint.sub(this.node.position).mag()>1){var t=u(this.samplePoint,this.node.position,this.offsetRotation);this.samplePoint=this.node.position,this.node.angle=-t}}else this.samplePoint=this.node.position},o([c],e.prototype,"offsetRotation",void 0),e=o([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],Weapon:[function(t,e,n){"use strict";cc._RF.push(e,"1a84fUXSlZL85gQ36nr02FV","Weapon");var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../plane/Plane"),a=t("../bullet/Bullet"),c=cc._decorator,u=c.ccclass,s=c.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bulletPrefab=null,e.offset=cc.v2(0,0),e.rotation=0,e.rate=1,e.speed=1e3,e.count=10,e._duration=0,e._count=0,e}return r(e,t),e.prototype.start=function(){this.plane=this.node.getComponent(i.default),this.plane&&(this._duration=0,this._count=0,0===this.rate?this._fire():this.schedule(this._fire,this.rate))},e.prototype._fire=function(t){if(t&&(this._duration+=t),0!==this.count&&this._count++>=this.count)return this.unschedule(this._fire),void(this.plane.onWeaponRemove&&(this.plane.onWeaponRemove(),this.node.removeComponent(this)));var e=this._createBullet();e&&e.run(this.plane,this)},e.prototype._createBullet=function(){if(!this.bulletPrefab)return null;var t=cc.instantiate(this.bulletPrefab),e=this.node.convertToWorldSpaceAR(cc.v2(0,0));t.position=cc.v3(this.node.parent.convertToNodeSpaceAR(e).add(this.offset)),t.angle=this.node.angle-this.rotation,t.parent=this.node.parent,"player"===this.node.group?t.group="player-bullet":t.group="enemy-bullet";var n=t.getComponent(a.default);return n.followTargetX&&(n.target=this.plane.node),n},e.prototype.assignParam=function(t){t.bulletPrefab=this.bulletPrefab,t.rate=this.rate,t.speed=this.speed,t.count=this.count,t.rotation=this.rotation,t.offset=cc.v2(this.offset)},o([s(cc.Prefab)],e.prototype,"bulletPrefab",void 0),o([s(cc.Vec2)],e.prototype,"offset",void 0),o([s],e.prototype,"rotation",void 0),o([s],e.prototype,"rate",void 0),o([s],e.prototype,"speed",void 0),o([s],e.prototype,"count",void 0),e=o([u],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../bullet/Bullet":"Bullet","../plane/Plane":"Plane"}],use_reversed_rotateBy:[function(t,e,n){"use strict";cc._RF.push(e,"6a14eHCAlNMM4osQROyyobN","use_reversed_rotateBy"),cc.RotateBy._reverse=!0,cc._RF.pop()},{}],"use_v2.0.x_cc.Toggle_event":[function(t,e,n){"use strict";cc._RF.push(e,"48f11b496dNg7Gfgrbzeax2","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}]},{},["PolygonMask","CacheAssetManager","LoaderObserver","LoaderUtil","ResLoader","ResourceManager","AStart","EventManager","InstanceEvent","NodePoolManager","Singleton","Stately","use_reversed_rotateBy","use_v2.0.x_cc.Toggle_event","Bullet","GameGlobal","ResConst","BezierEditor","CollisionManager","Dragable","FormationEditor","ScrollCamera","UpdateRotation","GamePlayerData","Game","DropItem","DropItemBullet","DropItemHPProp","DropItemProp","DropItemPropStrategy","DropItemShieldProp","ItemConst","PropStrategyManager","EnemyPlane","GeneratorPlane","Plane","PlaneGenerator","PlayerPlane","PlayScene","Timer","TimerManager","TitleComponent","FanWeapon","SpinWeapon","Weapon"]);